function getUid(length) {
    var id = '';
    length = length || 20;
    while (length--) {
        id += (Math.random() * 16 | 0) % 2 ? (Math.random() * 16 | 0).toString(16) : (Math.random() * 16 | 0).toString(16).toUpperCase();
    }
    return id.toLowerCase();
}
exports.getUid = getUid;
function throttle(method, num, context, args) {
    num = num || 100;
    clearTimeout(method.tId);
    method.tId = setTimeout(function () {
        method.apply(context, args);
    }, num);
}
function selectstart(isSelect) {
    if (typeof (document.onselectstart) != "undefined") {
        document.onselectstart = function () { return isSelect; };
    }
    else {
        document.onmousedown = function () { return isSelect; };
        document.onmouseup = function () { return true; };
    }
}
function dialog(config) {
    var isDown = false, top, left, isMax = false, beforeSize = {};
    window["z-index"] = window["z-index"] + 1 || 100;
    $(config.element).css('position', 'absolute');
    $(config.element).css('left', (config.left || Math.random() * 100) + 'px');
    $(config.element).css('top', (config.top || Math.random() * 100) + 'px');
    $(config.element).css('z-index', window["z-index"]);
    $(config.eventEl).on('mousedown', function (event) {
        if (event.target != config.eventEl) {
            if (!$(event.target).hasClass('title')) {
                return;
            }
        }
        isDown = true;
        var xx = event.screenX;
        var yy = event.screenY;
        top = parseInt($(config.element).css('top').replace('px', '')) - yy;
        left = parseInt($(config.element).css('left').replace('px', '')) - xx;
    });
    var max = function () {
        if (isMax) {
            isMax = false;
            $(config.element).width(beforeSize["width"]);
            $(config.element).height(beforeSize["height"]);
            $(config.element).css("top", beforeSize["top"]);
            $(config.element).css("left", beforeSize["left"]);
            if (config.onResize) {
                config.onResize();
            }
            return;
        }
        var width = $("body").width(), height = $(window).height();
        beforeSize["height"] = $(config.element).height();
        beforeSize["width"] = $(config.element).width();
        beforeSize["top"] = $(config.element).css("top");
        beforeSize["left"] = $(config.element).css("left");
        $(config.element).width(width);
        $(config.element).height(height - config.taskBarHeight);
        $(config.element).css('top', 0);
        $(config.element).css("left", 0);
        isMax = true;
        if (config.onResize) {
            config.onResize();
        }
        if (config.onMouseUp())
            config.onMouseUp();
        isDown = false;
    };
    $('body').mouseup(function () {
        if (config.onMouseUp())
            config.onMouseUp();
        isDown = false;
    });
    var windowMove = function (event) {
        if (!isDown)
            return;
        if (config.onMove())
            config.onMove();
        var xx = event.screenX;
        var yy = event.screenY;
        if (isMax) {
            var thatLeft = event.pageX;
            isMax = false;
            left = thatLeft - beforeSize["width"] / 2;
            $(config.element).width(beforeSize["width"]);
            $(config.element).height(beforeSize["height"]);
            $(config.element).css("left", left + "px");
            if (config.onResize) {
                config.onResize();
            }
            left = left - xx;
            return;
        }
        if (event.pageX <= 0) {
            var width = $("body").width(), height = $(window).height();
            beforeSize["height"] = $(config.element).height();
            beforeSize["width"] = $(config.element).width();
            beforeSize["top"] = $(config.element).css("top");
            beforeSize["left"] = $(config.element).css("left");
            $(config.element).width(width / 2 - 10);
            $(config.element).height(height - config.taskBarHeight);
            $(config.element).css('top', 0);
            $(config.element).css("left", 0);
            isMax = true;
            if (config.onResize) {
                config.onResize();
            }
            if (config.onMouseUp())
                config.onMouseUp();
            isDown = false;
            return;
        }
        if (event.pageX >= $("body").width() - 1) {
            var width = $("body").width(), height = $(window).height();
            beforeSize["height"] = $(config.element).height();
            beforeSize["width"] = $(config.element).width();
            beforeSize["top"] = $(config.element).css("top");
            beforeSize["left"] = $(config.element).css("left");
            $(config.element).width(width / 2 - 1);
            $(config.element).height(height - config.taskBarHeight);
            $(config.element).css('top', 0);
            $(config.element).css("left", width / 2);
            isMax = true;
            if (config.onResize) {
                config.onResize();
            }
            if (config.onMouseUp())
                config.onMouseUp();
            isDown = false;
            return;
        }
        if (event.pageY <= 0) {
            max();
            return;
        }
        $(config.element).css('top', (yy + top) + 'px');
        $(config.element).css('left', (xx + left) + 'px');
    };
    $(document).on('mousemove', function (event) {
        throttle(windowMove, 3, this, [event]);
    });
    $(config.eventEl).on('dblclick', function (event) {
        if (isMax) {
            isMax = false;
            $(config.element).width(beforeSize["width"]);
            $(config.element).height(beforeSize["height"]);
            $(config.element).css("top", beforeSize["top"]);
            $(config.element).css("left", beforeSize["left"]);
            if (config.onResize) {
                config.onResize();
            }
            return;
        }
        var width = $("body").width(), height = $(window).height();
        beforeSize["height"] = $(config.element).height();
        beforeSize["width"] = $(config.element).width();
        beforeSize["top"] = $(config.element).css("top");
        beforeSize["left"] = $(config.element).css("left");
        $(config.element).width(width);
        $(config.element).height(height - config.taskBarHeight);
        $(config.element).css('top', 0);
        $(config.element).css("left", 0);
        isMax = true;
        if (config.onResize) {
            config.onResize();
        }
    });
    resize(config);
    return {
        max: max
    };
}
exports.dialog = dialog;
function resize(config) {
    var element = config.element, $right = $(element).find('.design-resize-right'), $left = $(element).find('.design-resize-left'), $bottom = $(element).find('.design-resize-bottom'), $right_bottom = $(element).find('.design-resize-right-bottom'), $left_bottom = $(element).find('.design-resize-left-bottom'), isDown = false, seat = '', top, left, bottom, widthValue, heightValue, panelHeight, panelWidth;
    var setValue = function (event, v, l, t) {
        if (t === void 0) { t = 0; }
        isDown = true;
        seat = v;
        left = event.pageX;
        top = event.pageY;
        panelWidth = $(element).width();
        panelHeight = $(element).height();
        selectstart(false);
    };
    $right.mousedown(function (event) {
        setValue(event, 'right', 5);
    });
    $left.mousedown(function (event) {
        setValue(event, 'left', -5);
    });
    $bottom.mousedown(function (event) {
        setValue(event, 'bottom', 5);
    });
    $right_bottom.mousedown(function (event) {
        setValue(event, 'right-bottom', 5, 5);
    });
    $left_bottom.mousedown(function (event) {
        setValue(event, 'left-bottom', -5, 5);
    });
    $('body').mouseup(function () {
        if (!isDown)
            return;
        isDown = false;
        selectstart(true);
        throttle(function () {
            if (config.onBeforeMouseUp) {
                config.onBeforeMouseUp();
            }
            if (config.onMouseUp) {
                config.onMouseUp();
            }
        });
    });
    var mouseMoveEvent = function (event) {
        if (!isDown) {
            return;
        }
        var thatLeft = event.pageX;
        var thatTop = event.pageY;
        if (!isDown)
            return;
        if (seat == 'right') {
            widthValue = panelWidth + thatLeft - left;
            heightValue = undefined;
            $(element).css('width', widthValue + 'px');
        }
        else if (seat == 'left') {
            widthValue = panelWidth + left - thatLeft;
            heightValue = undefined;
            $(element).css('width', widthValue + 'px');
            $(element).css('left', thatLeft);
        }
        else if (seat == 'bottom') {
            widthValue = undefined;
            heightValue = panelHeight + thatTop - top;
            $(element).css('height', heightValue - 4 + 'px');
        }
        else if (seat == 'right-bottom') {
            widthValue = panelWidth + thatLeft - left;
            heightValue = panelHeight + thatTop - top;
            $(element).css('height', heightValue - 4 + 'px');
            $(element).css('width', widthValue - 4 + 'px');
        }
        else if (seat == 'left-bottom') {
            widthValue = panelWidth + left - thatLeft;
            heightValue = panelHeight + thatTop - top;
            $(element).css('height', heightValue - 4 + 'px');
            $(element).css('width', widthValue - 4 + 'px');
            $(element).css('left', thatLeft);
        }
        if ($(element).height() % 2 != 0) {
            $(element).height($(element).height() + 1);
        }
        if ($(element).width() % 2 != 0) {
            $(element).width($(element).width() + 1);
        }
    };
    var onResize = function () {
        if (!isDown) {
            return;
        }
        if (config.onResize())
            config.onResize();
    };
    $('body').on('mousemove', function (event) {
        if (!isDown) {
            return;
        }
        if (config.onMove())
            config.onMove();
        throttle(mouseMoveEvent, 6, this, [event]);
        throttle(onResize, 6, this, [event]);
    });
}
exports.resize = resize;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2t0b3AvdG9vbHMvdXRpbC50cyJdLCJuYW1lcyI6WyJnZXRVaWQiLCJ0aHJvdHRsZSIsInNlbGVjdHN0YXJ0IiwiZGlhbG9nIiwicmVzaXplIl0sIm1hcHBpbmdzIjoiQUFJQSxnQkFBdUIsTUFBTTtJQUN6QkEsSUFBSUEsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQUE7SUFDZEEsTUFBTUEsR0FBR0EsTUFBTUEsSUFBSUEsRUFBRUEsQ0FBQUE7SUFFbEJBLE9BQU9BLE1BQU1BLEVBQUVBLEVBQUVBLENBQUNBO1FBQ2RBLEVBQUVBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBO0lBQ3JJQSxDQUFDQTtJQUNEQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxDQUFDQTtBQUM1QkEsQ0FBQ0E7QUFSZSxjQUFNLFNBUXJCLENBQUE7QUFHRCxrQkFBa0IsTUFBTSxFQUFDLEdBQUksRUFBQyxPQUFRLEVBQUUsSUFBSztJQUM1Q0MsR0FBR0EsR0FBR0EsR0FBR0EsSUFBSUEsR0FBR0EsQ0FBQ0E7SUFFakJBLFlBQVlBLENBQUNBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO0lBQ3pCQSxNQUFNQSxDQUFDQSxHQUFHQSxHQUFHQSxVQUFVQSxDQUFDQTtRQUN2QixNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFD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dGVudCI6WyJcbmRlY2xhcmUgdmFyICRcblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VWlkKGxlbmd0aCkge1xuICAgIHZhciBpZCA9ICcnXG5cdGxlbmd0aCA9IGxlbmd0aCB8fCAyMFxuXHRcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWQgKz0gKE1hdGgucmFuZG9tKCkgKiAxNiB8IDApICUgMiA/IChNYXRoLnJhbmRvbSgpICogMTYgfCAwKS50b1N0cmluZygxNikgOiAoTWF0aC5yYW5kb20oKSAqIDE2IHwgMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBpZC50b0xvd2VyQ2FzZSgpO1xufVxuXG5cbmZ1bmN0aW9uIHRocm90dGxlKG1ldGhvZCxudW0/LGNvbnRleHQ/LCBhcmdzPyl7IFxuXHRudW0gPSBudW0gfHwgMTAwO1xuICAgIFxuXHRjbGVhclRpbWVvdXQobWV0aG9kLnRJZCk7IFxuXHRtZXRob2QudElkID0gc2V0VGltZW91dChmdW5jdGlvbigpeyBcblx0XHRtZXRob2QuYXBwbHkoY29udGV4dCxhcmdzKTsgXG5cdH0sbnVtKTsgXG59XG5cblxuXG5mdW5jdGlvbiBzZWxlY3RzdGFydCAoaXNTZWxlY3QpXG57XG4gICAgaWYgKHR5cGVvZiAoZG9jdW1lbnQub25zZWxlY3RzdGFydCkgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gKCkgPT57IHJldHVybiBpc1NlbGVjdCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2Vkb3duID0gKCkgPT57IHJldHVybiBpc1NlbGVjdCB9O1xuICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSAoKSA9PnsgcmV0dXJuIHRydWUgfTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlhbG9nKGNvbmZpZykgXG57IFxuICAgIHZhciBpc0Rvd24gPSBmYWxzZSwgdG9wLCBsZWZ0LCBpc01heCA9IGZhbHNlLCBiZWZvcmVTaXplID0ge307XG4gICAgd2luZG93W1wiei1pbmRleFwiXSA9IHdpbmRvd1tcInotaW5kZXhcIl0gKyAxIHx8IDEwMDtcbiAgICAkKGNvbmZpZy5lbGVtZW50KS5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcblx0JChjb25maWcuZWxlbWVudCkuY3NzKCdsZWZ0JywgKGNvbmZpZy5sZWZ0IHx8IE1hdGgucmFuZG9tKCkqMTAwKSsncHgnKVxuXHQkKGNvbmZpZy5lbGVtZW50KS5jc3MoJ3RvcCcsIChjb25maWcudG9wIHx8IE1hdGgucmFuZG9tKCkqMTAwKSsncHgnKVxuXHQkKGNvbmZpZy5lbGVtZW50KS5jc3MoJ3otaW5kZXgnLCB3aW5kb3dbXCJ6LWluZGV4XCJdKVxuXG4gICAgJChjb25maWcuZXZlbnRFbCkub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPSBjb25maWcuZXZlbnRFbCkgeyBcbiAgICAgICAgICAgIGlmICghJChldmVudC50YXJnZXQpLmhhc0NsYXNzKCd0aXRsZScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIC8vIHJldHVybjtcbiAgICAgICAgfVxuXHRcdGlzRG93biA9IHRydWU7XG5cdFx0dmFyIHh4ID0gZXZlbnQuc2NyZWVuWDsgXG5cdFx0dmFyIHl5ID0gZXZlbnQuc2NyZWVuWTsgXG5cblx0XHR0b3AgPSBwYXJzZUludCgkKGNvbmZpZy5lbGVtZW50KS5jc3MoJ3RvcCcpLnJlcGxhY2UoJ3B4JywgJycpKSAtIHl5O1xuXHRcdGxlZnQgPSBwYXJzZUludCgkKGNvbmZpZy5lbGVtZW50KS5jc3MoJ2xlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgLSB4eDtcblxuXHR9KTtcblxuXG4gICAgdmFyIG1heCA9IGZ1bmN0aW9uICgpIFxuICAgIHsgXG4gICAgICAgIGlmIChpc01heCkge1xuICAgICAgICAgICAgaXNNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICQoY29uZmlnLmVsZW1lbnQpLndpZHRoKGJlZm9yZVNpemVbXCJ3aWR0aFwiXSk7XG4gICAgICAgICAgICAkKGNvbmZpZy5lbGVtZW50KS5oZWlnaHQoYmVmb3JlU2l6ZVtcImhlaWdodFwiXSk7XG4gICAgICAgICAgICAkKGNvbmZpZy5lbGVtZW50KS5jc3MoXCJ0b3BcIiwgYmVmb3JlU2l6ZVtcInRvcFwiXSk7XG4gICAgICAgICAgICAkKGNvbmZpZy5lbGVtZW50KS5jc3MoXCJsZWZ0XCIsIGJlZm9yZVNpemVbXCJsZWZ0XCJdKTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5vblJlc2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuXG4gICAgICAgIHZhciB3aWR0aCA9ICQoXCJib2R5XCIpLndpZHRoKCksXG4gICAgICAgIGhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcbiAgICAgICAgYmVmb3JlU2l6ZVtcImhlaWdodFwiXSA9ICQoY29uZmlnLmVsZW1lbnQpLmhlaWdodCgpXG4gICAgICAgIGJlZm9yZVNpemVbXCJ3aWR0aFwiXSA9ICQoY29uZmlnLmVsZW1lbnQpLndpZHRoKClcbiAgICAgICAgYmVmb3JlU2l6ZVtcInRvcFwiXSA9ICQoY29uZmlnLmVsZW1lbnQpLmNzcyhcInRvcFwiKVxuICAgICAgICBiZWZvcmVTaXplW1wibGVmdFwiXSA9ICQoY29uZmlnLmVsZW1lbnQpLmNzcyhcImxlZnRcIilcblxuXHRcdCQoY29uZmlnLmVsZW1lbnQpLndpZHRoKHdpZHRoKTtcblx0XHQkKGNvbmZpZy5lbGVtZW50KS5oZWlnaHQoaGVpZ2h0IC0gY29uZmlnLnRhc2tCYXJIZWlnaHQpO1xuXHRcdCQoY29uZmlnLmVsZW1lbnQpLmNzcygndG9wJywgMCk7XG5cdFx0JChjb25maWcuZWxlbWVudCkuY3NzKFwibGVmdFwiLDApO1xuICAgICAgICAgICAgXG5cdFx0aXNNYXggPSB0cnVlO1xuICAgICAgICBpZiAoY29uZmlnLm9uUmVzaXplKSB7XG5cdFx0XHRjb25maWcub25SZXNpemUoKTtcblx0XHR9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5vbk1vdXNlVXAoKSlcblx0XHQgICAgY29uZmlnLm9uTW91c2VVcCgpO1xuXG4gICAgICAgIGlzRG93biA9IGZhbHNlO1xuICAgIH1cblxuXHQkKCdib2R5JykubW91c2V1cChmdW5jdGlvbigpXG4gICAge1xuICAgICAgICBpZiAoY29uZmlnLm9uTW91c2VVcCgpKVxuXHRcdCAgICBjb25maWcub25Nb3VzZVVwKCk7XG5cbiAgICAgICAgaXNEb3duID0gZmFsc2U7XG5cdH0pO1xuXG5cblx0dmFyIHdpbmRvd01vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIFxuICAgIHsgXG4gICAgICAgIGlmICghaXNEb3duKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBpZiAoY29uZmlnLm9uTW92ZSgpKVxuXHRcdCAgICBjb25maWcub25Nb3ZlKCk7XG5cbiAgICAgICAgdmFyIHh4ID0gZXZlbnQuc2NyZWVuWDtcblx0XHR2YXIgeXkgPSBldmVudC5zY3JlZW5ZO1xuXG4gICAgICAgIGlmIChpc01heCkgXG4gICAgICAgIHsgXG5cdFx0ICAgIHZhciB0aGF0TGVmdCA9IGV2ZW50LnBhZ2VYO1xuICAgICAgICAgICAgaXNNYXggPSBmYWxzZTtcbiAgICAgICAgICAgIGxlZnQgPSB0aGF0TGVmdCAtIGJlZm9yZVNpemVbXCJ3aWR0aFwiXS8yIFxuICAgICAgICAgICAgJChjb25maWcuZWxlbWVudCkud2lkdGgoYmVmb3JlU2l6ZVtcIndpZHRoXCJdKTtcblx0XHQgICAgJChjb25maWcuZWxlbWVudCkuaGVpZ2h0KGJlZm9yZVNpemVbXCJoZWlnaHRcIl0pO1xuXHRcdCAgICAkKGNvbmZpZy5lbGVtZW50KS5jc3MoXCJsZWZ0XCIsIGxlZnQgKyBcInB4XCIpO1xuXHRcdCAgICAvLyQoY29uZmlnLmVsZW1lbnQpLmNzcyhcInRvcFwiLCBiZWZvcmVTaXplW1widG9wXCJdKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNvbmZpZy5vblJlc2l6ZSkge1xuXHRcdFx0ICAgIGNvbmZpZy5vblJlc2l6ZSgpO1xuXHRcdCAgICB9XG4gICAgICAgICAgICBsZWZ0ID0gbGVmdCAtIHh4O1xuICAgICAgICAgICAgLy9hbGVydCh0aGF0TGVmdCAtIGJlZm9yZVNpemVbXCJ3aWR0aFwiXS8yICsgXCJweFwiK1wiXCIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQucGFnZVggPD0gMCkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICQoXCJib2R5XCIpLndpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIGJlZm9yZVNpemVbXCJoZWlnaHRcIl0gPSAkKGNvbmZpZy5lbGVtZW50KS5oZWlnaHQoKVxuICAgICAgICAgICAgYmVmb3JlU2l6ZVtcIndpZHRoXCJdID0gJChjb25maWcuZWxlbWVudCkud2lkdGgoKVxuICAgICAgICAgICAgYmVmb3JlU2l6ZVtcInRvcFwiXSA9ICQoY29uZmlnLmVsZW1lbnQpLmNzcyhcInRvcFwiKVxuICAgICAgICAgICAgYmVmb3JlU2l6ZVtcImxlZnRcIl0gPSAkKGNvbmZpZy5lbGVtZW50KS5jc3MoXCJsZWZ0XCIpXG5cblx0XHQgICAgJChjb25maWcuZWxlbWVudCkud2lkdGgod2lkdGgvMiAtIDEwKTtcblx0XHQgICAgJChjb25maWcuZWxlbWVudCkuaGVpZ2h0KGhlaWdodCAtIGNvbmZpZy50YXNrQmFySGVpZ2h0KTtcblx0XHQgICAgJChjb25maWcuZWxlbWVudCkuY3NzKCd0b3AnLCAwKTtcblx0XHQgICAgJChjb25maWcuZWxlbWVudCkuY3NzKFwibGVmdFwiLCAwKTtcbiAgICAgICAgXG5cdFx0ICAgIGlzTWF4ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChjb25maWcub25SZXNpemUpIHtcblx0XHRcdCAgICBjb25maWcub25SZXNpemUoKTtcblx0XHQgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uZmlnLm9uTW91c2VVcCgpKVxuXHRcdCAgICAgICAgY29uZmlnLm9uTW91c2VVcCgpO1xuXG4gICAgICAgICAgICBpc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgICAgICBpZiAoZXZlbnQucGFnZVggPj0gJChcImJvZHlcIikud2lkdGgoKS0xKSBcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gJChcImJvZHlcIikud2lkdGgoKSxcbiAgICAgICAgICAgIGhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgYmVmb3JlU2l6ZVtcImhlaWdodFwiXSA9ICQoY29uZmlnLmVsZW1lbnQpLmhlaWdodCgpXG4gICAgICAgICAgICBiZWZvcmVTaXplW1wid2lkdGhcIl0gPSAkKGNvbmZpZy5lbGVtZW50KS53aWR0aCgpXG4gICAgICAgICAgICBiZWZvcmVTaXplW1widG9wXCJdID0gJChjb25maWcuZWxlbWVudCkuY3NzKFwidG9wXCIpXG4gICAgICAgICAgICBiZWZvcmVTaXplW1wibGVmdFwiXSA9ICQoY29uZmlnLmVsZW1lbnQpLmNzcyhcImxlZnRcIilcblxuXHRcdCAgICAkKGNvbmZpZy5lbGVtZW50KS53aWR0aCh3aWR0aC8yIC0gMSk7XG5cdFx0ICAgICQoY29uZmlnLmVsZW1lbnQpLmhlaWdodChoZWlnaHQgLSBjb25maWcudGFza0JhckhlaWdodCk7XG5cdFx0ICAgICQoY29uZmlnLmVsZW1lbnQpLmNzcygndG9wJywgMCk7XG5cdFx0ICAgICQoY29uZmlnLmVsZW1lbnQpLmNzcyhcImxlZnRcIiwgd2lkdGgvMik7XG4gICAgICAgIFxuXHRcdCAgICBpc01heCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY29uZmlnLm9uUmVzaXplKSB7XG5cdFx0XHQgICAgY29uZmlnLm9uUmVzaXplKCk7XG5cdFx0ICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5vbk1vdXNlVXAoKSlcblx0XHQgICAgICAgIGNvbmZpZy5vbk1vdXNlVXAoKTtcblxuICAgICAgICAgICAgaXNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChldmVudC5wYWdlWSA8PSAwKSB7XG4gICAgICAgICAgICBtYXgoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cdFx0JChjb25maWcuZWxlbWVudCkuY3NzKCd0b3AnLCAoeXkgKyB0b3ApICsgJ3B4Jyk7XG5cdFx0JChjb25maWcuZWxlbWVudCkuY3NzKCdsZWZ0JywgKHh4ICsgbGVmdCkgKyAncHgnKTtcbiAgICBcbiAgICB9XG4gICAgXG5cdCQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUnLGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIFxuXHRcdHRocm90dGxlKHdpbmRvd01vdmUsIDMsIHRoaXMsIFtldmVudF0pXG5cdH0pO1xuXG4gICAgXG4gICAgJChjb25maWcuZXZlbnRFbCkub24oJ2RibGNsaWNrJywgZnVuY3Rpb24oZXZlbnQpXG4gICAge1xuXHRcdFxuICAgICAgICBpZiAoaXNNYXgpIFxuICAgICAgICB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlzTWF4ID0gZmFsc2U7XG4gICAgICAgICAgICAkKGNvbmZpZy5lbGVtZW50KS53aWR0aChiZWZvcmVTaXplW1wid2lkdGhcIl0pO1xuXHRcdCAgICAkKGNvbmZpZy5lbGVtZW50KS5oZWlnaHQoYmVmb3JlU2l6ZVtcImhlaWdodFwiXSk7XG5cdFx0ICAgICQoY29uZmlnLmVsZW1lbnQpLmNzcyhcInRvcFwiLCBiZWZvcmVTaXplW1widG9wXCJdKTtcblx0XHQgICAgJChjb25maWcuZWxlbWVudCkuY3NzKFwibGVmdFwiLCBiZWZvcmVTaXplW1wibGVmdFwiXSk7XG5cbiAgICAgICAgICAgIGlmIChjb25maWcub25SZXNpemUpIHtcblx0XHRcdCAgICBjb25maWcub25SZXNpemUoKTtcblx0XHQgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gJChcImJvZHlcIikud2lkdGgoKSxcbiAgICAgICAgICAgIGhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcbiAgICAgICAgXG4gICAgICAgIGJlZm9yZVNpemVbXCJoZWlnaHRcIl0gPSAkKGNvbmZpZy5lbGVtZW50KS5oZWlnaHQoKVxuICAgICAgICBiZWZvcmVTaXplW1wid2lkdGhcIl0gPSAkKGNvbmZpZy5lbGVtZW50KS53aWR0aCgpXG4gICAgICAgIGJlZm9yZVNpemVbXCJ0b3BcIl0gPSAkKGNvbmZpZy5lbGVtZW50KS5jc3MoXCJ0b3BcIilcbiAgICAgICAgYmVmb3JlU2l6ZVtcImxlZnRcIl0gPSAkKGNvbmZpZy5lbGVtZW50KS5jc3MoXCJsZWZ0XCIpXG5cblx0XHQkKGNvbmZpZy5lbGVtZW50KS53aWR0aCh3aWR0aCk7XG5cdFx0JChjb25maWcuZWxlbWVudCkuaGVpZ2h0KGhlaWdodCAtIGNvbmZpZy50YXNrQmFySGVpZ2h0KTtcblx0XHQkKGNvbmZpZy5lbGVtZW50KS5jc3MoJ3RvcCcsIDApO1xuXHRcdCQoY29uZmlnLmVsZW1lbnQpLmNzcyhcImxlZnRcIiwgMCk7XG4gICAgICAgIFxuXHRcdGlzTWF4ID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbmZpZy5vblJlc2l6ZSkge1xuXHRcdFx0Y29uZmlnLm9uUmVzaXplKCk7XG5cdFx0fVxuXHR9KTtcblxuXHRcblxuICAgIHJlc2l6ZShjb25maWcpXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBtYXg6IG1heFxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZShjb25maWcpIFxue1xuXHR2YXIgZWxlbWVudCA9IGNvbmZpZy5lbGVtZW50XG4gICAgICAgICwgJHJpZ2h0ID0gJChlbGVtZW50KS5maW5kKCcuZGVzaWduLXJlc2l6ZS1yaWdodCcpXG5cdFx0LCAkbGVmdCA9ICQoZWxlbWVudCkuZmluZCgnLmRlc2lnbi1yZXNpemUtbGVmdCcpXG5cdFx0LCAkYm90dG9tID0gJChlbGVtZW50KS5maW5kKCcuZGVzaWduLXJlc2l6ZS1ib3R0b20nKVxuXHRcdCwgJHJpZ2h0X2JvdHRvbSA9ICQoZWxlbWVudCkuZmluZCgnLmRlc2lnbi1yZXNpemUtcmlnaHQtYm90dG9tJylcblx0XHQsICRsZWZ0X2JvdHRvbSA9ICQoZWxlbWVudCkuZmluZCgnLmRlc2lnbi1yZXNpemUtbGVmdC1ib3R0b20nKVxuXHRcdCwgaXNEb3duID0gZmFsc2Vcblx0XHQsIHNlYXQgPSAnJ1xuXHRcdCwgdG9wXG5cdFx0LCBsZWZ0XG5cdFx0LCBib3R0b21cblx0XHQsIHdpZHRoVmFsdWVcblx0XHQsIGhlaWdodFZhbHVlXG4gICAgICAgICwgcGFuZWxIZWlnaHRcbiAgICAgICAgLCBwYW5lbFdpZHRoO1xuXHRcdFxuXHR2YXIgc2V0VmFsdWUgPSBmdW5jdGlvbihldmVudCwgdiwgbCwgdCA9IDApIFxuICAgIHtcblx0XHRpc0Rvd24gPSB0cnVlO1xuXHRcdHNlYXQgPSB2O1xuXHRcdGxlZnQgPSBldmVudC5wYWdlWDtcblx0XHR0b3AgPSBldmVudC5wYWdlWTtcblx0XHRwYW5lbFdpZHRoID0gJChlbGVtZW50KS53aWR0aCgpO1xuXHRcdHBhbmVsSGVpZ2h0ID0gJChlbGVtZW50KS5oZWlnaHQoKTtcblx0XHRzZWxlY3RzdGFydChmYWxzZSk7XG5cdH1cblxuXHQkcmlnaHQubW91c2Vkb3duKGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRzZXRWYWx1ZShldmVudCwgJ3JpZ2h0JywgNSk7XG5cdH0pO1xuXG5cdCRsZWZ0Lm1vdXNlZG93bihmdW5jdGlvbihldmVudCl7XG5cdFx0c2V0VmFsdWUoZXZlbnQsICdsZWZ0JywgLTUpO1xuXHR9KTtcblxuXHQkYm90dG9tLm1vdXNlZG93bihmdW5jdGlvbihldmVudCl7XG5cdFx0c2V0VmFsdWUoZXZlbnQsICdib3R0b20nLCA1KTtcblx0fSk7XG5cblx0JHJpZ2h0X2JvdHRvbS5tb3VzZWRvd24oZnVuY3Rpb24oZXZlbnQpe1xuXHRcdHNldFZhbHVlKGV2ZW50LCAncmlnaHQtYm90dG9tJywgNSwgNSk7XG5cdH0pO1xuXG5cdCRsZWZ0X2JvdHRvbS5tb3VzZWRvd24oZnVuY3Rpb24oZXZlbnQpe1xuXHRcdHNldFZhbHVlKGV2ZW50LCAnbGVmdC1ib3R0b20nLCAtNSwgNSk7XG5cdH0pO1xuXHRcblx0JCgnYm9keScpLm1vdXNldXAoZnVuY3Rpb24oKVxuICAgIHtcblx0XHRpZiAoIWlzRG93bilcblx0XHRcdHJldHVybjtcblx0XHRpc0Rvd24gPSBmYWxzZTtcblx0XHRzZWxlY3RzdGFydCh0cnVlKTtcblx0XHR0aHJvdHRsZShmdW5jdGlvbigpIFxuICAgICAgICB7XG5cdFx0XHRpZiAoY29uZmlnLm9uQmVmb3JlTW91c2VVcCkge1xuXHRcdFx0XHRjb25maWcub25CZWZvcmVNb3VzZVVwKCk7XG5cdFx0XHR9XG5cdFx0XHQvL3RoYXQucmVzaXplKHdpZHRoVmFsdWUsIGhlaWdodFZhbHVlKTtcblx0XHRcdGlmIChjb25maWcub25Nb3VzZVVwKSB7XG5cdFx0XHRcdGNvbmZpZy5vbk1vdXNlVXAoKTtcblx0XHRcdH1cblx0XHR9KVxuXHR9KTtcblxuICAgIHZhciBtb3VzZU1vdmVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkgXG4gICAge1xuICAgICAgICBpZiAoIWlzRG93bikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciB0aGF0TGVmdCA9IGV2ZW50LnBhZ2VYO1xuXHRcdHZhciB0aGF0VG9wID0gZXZlbnQucGFnZVk7XG5cblx0XHRpZiAoIWlzRG93bilcblx0XHQgICAgcmV0dXJuO1xuXG5cdFx0aWYgKHNlYXQgPT0gJ3JpZ2h0JykgXG4gICAgICAgIHtcblx0XHQgICAgd2lkdGhWYWx1ZSA9IHBhbmVsV2lkdGggKyB0aGF0TGVmdCAtIGxlZnQ7XG5cdFx0ICAgIGhlaWdodFZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdCAgICAkKGVsZW1lbnQpLmNzcygnd2lkdGgnLCB3aWR0aFZhbHVlICsgJ3B4Jyk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHNlYXQgPT0gJ2xlZnQnKSBcbiAgICAgICAge1xuXHRcdCAgICB3aWR0aFZhbHVlID0gcGFuZWxXaWR0aCArIGxlZnQgLSB0aGF0TGVmdDtcblx0XHQgICAgaGVpZ2h0VmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0ICAgICQoZWxlbWVudCkuY3NzKCd3aWR0aCcsIHdpZHRoVmFsdWUgKyAncHgnKTtcblx0XHQgICAgJChlbGVtZW50KS5jc3MoJ2xlZnQnLCB0aGF0TGVmdClcblx0XHR9XG5cdFx0ZWxzZSBpZiAoc2VhdCA9PSAnYm90dG9tJykgXG4gICAgICAgIHtcblx0XHQgICAgd2lkdGhWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHQgICAgaGVpZ2h0VmFsdWUgPSBwYW5lbEhlaWdodCArIHRoYXRUb3AgLSB0b3A7XG5cdFx0ICAgICQoZWxlbWVudCkuY3NzKCdoZWlnaHQnLCBoZWlnaHRWYWx1ZSAtIDQgKyAncHgnKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoc2VhdCA9PSAncmlnaHQtYm90dG9tJylcbiAgICAgICAge1xuXHRcdCAgICB3aWR0aFZhbHVlID0gcGFuZWxXaWR0aCArIHRoYXRMZWZ0IC0gbGVmdDtcblx0XHQgICAgaGVpZ2h0VmFsdWUgPSBwYW5lbEhlaWdodCArIHRoYXRUb3AgLSB0b3A7XG5cdFx0ICAgICQoZWxlbWVudCkuY3NzKCdoZWlnaHQnLCBoZWlnaHRWYWx1ZSAtIDQgKyAncHgnKTtcblx0XHQgICAgJChlbGVtZW50KS5jc3MoJ3dpZHRoJywgd2lkdGhWYWx1ZSAtIDQgKyAncHgnKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoc2VhdCA9PSAnbGVmdC1ib3R0b20nKSBcbiAgICAgICAge1xuXHRcdCAgICB3aWR0aFZhbHVlID0gcGFuZWxXaWR0aCArIGxlZnQgLSB0aGF0TGVmdDtcblx0XHQgICAgaGVpZ2h0VmFsdWUgPSBwYW5lbEhlaWdodCArIHRoYXRUb3AgLSB0b3A7XG5cdFx0ICAgICQoZWxlbWVudCkuY3NzKCdoZWlnaHQnLCBoZWlnaHRWYWx1ZSAtIDQgKyAncHgnKTtcblx0XHQgICAgJChlbGVtZW50KS5jc3MoJ3dpZHRoJywgd2lkdGhWYWx1ZSAtIDQgKyAncHgnKTtcblx0XHQgICAgJChlbGVtZW50KS5jc3MoJ2xlZnQnLCB0aGF0TGVmdClcblx0XHR9XG4gICAgICAgIFxuXHRcdGlmICgkKGVsZW1lbnQpLmhlaWdodCgpICUgMiAhPSAwKSB7IFxuXHRcdCAgICAkKGVsZW1lbnQpLmhlaWdodCgkKGVsZW1lbnQpLmhlaWdodCgpICsgMSk7XG4gICAgICAgIH1cblx0XHRpZiAoJChlbGVtZW50KS53aWR0aCgpICUgMiAhPSAwKSB7IFxuXHRcdCAgICAkKGVsZW1lbnQpLndpZHRoKCQoZWxlbWVudCkud2lkdGgoKSArIDEpO1xuICAgICAgICB9XG5cdH1cblxuICAgIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsgXG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzRG93bikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cbiAgICAgICAgaWYgKGNvbmZpZy5vblJlc2l6ZSgpKVxuXHRcdCAgICBjb25maWcub25SZXNpemUoKTtcbiAgICB9XG4gICAgXG5cdFx0XG5cdCQoJ2JvZHknKS5vbignbW91c2Vtb3ZlJyxmdW5jdGlvbihldmVudClcbiAgICB7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzRG93bikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cbiAgICAgICAgaWYgKGNvbmZpZy5vbk1vdmUoKSlcblx0XHQgICAgY29uZmlnLm9uTW92ZSgpO1xuXHRcdHRocm90dGxlKG1vdXNlTW92ZUV2ZW50LCA2LCB0aGlzLCBbZXZlbnRdKTtcblx0XHR0aHJvdHRsZShvblJlc2l6ZSwgNiwgdGhpcywgW2V2ZW50XSk7XG5cdH0pO1xufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = require('angular2/core');
var common_1 = require('angular2/common');
var shortcut_1 = require('../shortcut/shortcut');
var window_1 = require('../panel/window');
var menu_1 = require('../../desktop/menu/menu');
var FileBrowserCmp = (function (_super) {
    __extends(FileBrowserCmp, _super);
    function FileBrowserCmp(elementRef) {
        var _this = this;
        _super.call(this);
        this.shortcuts = [];
        this.width = 810;
        this.height = 500;
        this.path = '/';
        this.backs = [];
        this.aheads = [];
        this.element = elementRef.nativeElement;
        this.setDialog();
        setTimeout(function () {
            _this.config.object = _this;
            _this.setPath(_this.config.path, false);
            _this.setTitle(_this.config.title);
            _this.dropbox();
        }, 100);
    }
    FileBrowserCmp.prototype.rightClick = function (event) {
        if (!this.config.menu)
            return;
        menu_1.menuList.splice(0, 100);
        menu_1.menuList.push({
            top: event.pageY - 10,
            left: event.pageX,
            items: this.config.menu
        });
        event.returnvalue = false;
        return false;
    };
    FileBrowserCmp.prototype.hideMenu = function () {
        menu_1.menuList.splice(0, 100);
    };
    FileBrowserCmp.prototype.dropbox = function () {
        var _this = this;
        var dropbox = $(this.element).find('.body')[0];
        dropbox.addEventListener("dragenter", function (e) {
            dropbox.style.background = '#f2f2f2';
        }, false);
        dropbox.addEventListener("dragleave", function (e) {
            dropbox.style.background = '#fff';
        }, false);
        dropbox.addEventListener("dragenter", function (e) {
            e.stopPropagation();
            e.preventDefault();
        }, false);
        dropbox.addEventListener("dragover", function (e) {
            e.stopPropagation();
            e.preventDefault();
        }, false);
        dropbox.addEventListener("drop", function (e) {
            e.stopPropagation();
            e.preventDefault();
            dropbox.style.background = '#fff';
            console.log(e.dataTransfer.files[0]);
            _this.uploadFile(e.dataTransfer.files[0], 1);
        }, false);
    };
    FileBrowserCmp.prototype.uploadFile = function (file, status) {
        var _this = this;
        var xhr = new XMLHttpRequest();
        xhr.open('POST', this.config.uploadUrl + '?path=' + this.path);
        xhr.onload = function () {
            _this.refresh();
        };
        xhr.onerror = function () {
            console.log(this.responseText);
            console.log(file.size);
        };
        xhr.upload.onprogress = function (event) {
            console.log(event);
        };
        xhr.upload.onloadstart = function (event) {
        };
        var formData = new FormData();
        formData.append('myfile', file);
        xhr.send(formData);
    };
    FileBrowserCmp.prototype.setPath = function (path, isPush) {
        if (isPush === void 0) { isPush = true; }
        if (isPush) {
            this.backs.push(this.path);
            this.activeBackIcon(true);
        }
        this.path = path;
        this.config.onSetPath && this.config.onSetPath(this.path);
    };
    FileBrowserCmp.prototype.refresh = function () {
        this.config.onSetPath && this.config.onSetPath(this.path);
    };
    FileBrowserCmp.prototype.activeAheadIcon = function (isActive) {
        if (isActive) {
            $(this.element).find('.fb-icon-ahead').addClass('fb-icon-ahead-active');
            $(this.element).find('.fb-icon-ahead').removeClass('fb-icon-ahead');
        }
        else {
            $(this.element).find('.fb-icon-ahead-active').addClass('fb-icon-ahead');
            $(this.element).find('.fb-icon-ahead-active').removeClass('fb-icon-ahead-active');
        }
    };
    FileBrowserCmp.prototype.activeBackIcon = function (isActive) {
        if (isActive) {
            $(this.element).find('.fb-icon-back').addClass('fb-icon-back-active');
            $(this.element).find('.fb-icon-back').removeClass('fb-icon-back');
        }
        else {
            $(this.element).find('.fb-icon-back-active').addClass('fb-icon-back');
            $(this.element).find('.fb-icon-back-active').removeClass('fb-icon-back-active');
        }
    };
    FileBrowserCmp.prototype.back = function () {
        if (this.backs.length) {
            var path = this.backs.pop();
            this.aheads.push(this.path);
            this.setPath(path, false);
            this.activeBackIcon(this.backs.length);
            this.activeAheadIcon(this.aheads.length);
        }
    };
    FileBrowserCmp.prototype.ahead = function () {
        if (this.aheads.length) {
            var path = this.aheads.pop();
            this.backs.push(this.path);
            this.setPath(path, false);
            this.activeBackIcon(this.backs.length);
            this.activeAheadIcon(this.aheads.length);
        }
        ;
    };
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Object)
    ], FileBrowserCmp.prototype, "config", void 0);
    FileBrowserCmp = __decorate([
        core_1.Component({
            selector: 'file-browser',
            template: window_1.windowTemplate.replace('{{__body__}}', "\n        <div class=\"fb-tool\" style=\"\">\n            <div class=\"icon fb-icon-go fb-icon-back\" (click)=\"back()\"></div>\n            <div class=\"icon fb-icon-go fb-icon-ahead\" (click)=\"ahead()\"></div>\n            <div class=\"fb-src-input\">\n                <div class=\"fb-icon-computer\"></div>\n                <input type=\"text\" class=\"fb-path-input\" readonly=\"readonly\" value=\"{{path}}\" />\n            </div>\n            <div class=\"fb-icon-refresh\" style=\"\"> \n                <div class=\"refresh\"></div>\n            </div>\n        </div>\n        <div class=\"body\" style=\"overflow-y: auto;height:100%;width:100%;padding-top: 70px;\" (contextmenu)=\"rightClick($event)\" (click)=\"hideMenu()\">\n            <div class=\"layout-table\" *ngIf=\"config && config.fileList\">\n                <shortcut style=\"float:left\" *ngFor=\"#shortcut of config.fileList\" [shortcut]=\"shortcut\"></shortcut>\n            </div>\n        </div>\n    "),
            styles: ["\n\n\n\n      .panel{\n      \tposition: absolute;\n      \tleft:100px;\n      \ttop:100px;\n      \tborder:1px solid #ccc;\n      \tbackground-color:#fff;\n      \tborder-radius:1px;\n      }\n\n\n      .panel .header{\n      \twidth:100%;\n          height:30px;\n          text-align: left;\n      \tbackground-color:#eee;\n      }\n\n      .panel.focus .header  {\n      \tbackground-color:rgba(138,165,204,1);\n      }\n\n      .panel.focus  {\n      \tborder-color:rgba(138,165,204,1);\n      }\n\n      .panel .header .icon{\n          height: 20px;   \t\n          width: 20px;\n          float: left;\n          margin: 4px;\n          background-size: 20px 20px;\n      }\n\n      .panel .header .title{\n          padding-top: 5px;\n          float: left;\n      }\n\n      .panel-title-buttons {\n\n          height:40px;\n          float: right;\n      \tmargin-top: 2px;\n      \tmargin-right: 2px\n      }\n\n\n      .panel-btn {\n          float: right;\n          margin-right: 10px;\n          margin-top: 7px;\n          width:85px;\n          font-size:13px;\n\t\n      }\n\n      .icon-min{\n          background-image:url(../../resource/images/icon/min2.png);\n          width:40px;\n          height:19px;\n          float: left;\n      }\n      .icon-max{\n          background-image:url(../../resource/images/icon/max2.png);\n          width:40px;\n          height:19px;\n          float: left;\n      }\n      .icon-close{\n          background-image:url(../../resource/images/icon/close2.png);\n          width:40px;\n          height:19px;\n          float: left;\n      }\n\n      .icon-min:hover{\n      \tbackground-image:url(../../resource/images/icon/min.png);\n      }\n\n      .icon-max:hover{\n      \tbackground-image:url(../../resource/images/icon/max.png);\n      }\n\n      .icon-close:hover{\n      \tbackground-image:url(../../resource/images/icon/close.png);\n      }\n\n      /*window*/\n      .panel .design-resize-left, .design-resize-right  , .design-resize-bottom , .design-resize-left-bottom , .design-resize-right-bottom{\n      \tbackground:#b7bfca;\n      \tfloat: left;\n      \tposition: absolute;\n      \topacity: 0;                /* Firefox, Safari(WebKit), Opera,chrome/    filter: \"alpha(opacity=60)\"; /* IE 8 */\n      \tfilter: alpha(opacity=0);   /* IE 4-7 */\n      }\n      .design-resize-left{\n      \twidth:4px;\n      \theight: 100%;\n      \tcursor:e-resize; \n      \tleft:0px;\n      \ttop:0px;\n      }\n      .design-resize-right{\n      \twidth:4px;\n      \theight: 100%;\n      \tcursor:e-resize; \n      \tright:0px;\n      \ttop:0px;\n      }\n      .design-resize-bottom{\n      \theight:4px;\n      \twidth:100%;\n      \tcursor:n-resize;\n      \toverflow:hidden; \n      \tleft:0px;\n      \tbottom:0px;\n      }\n      .design-resize-left-bottom{\n      \theight:4px;\n      \twidth:4px;\n      \tcursor:sw-resize; \n      \tleft:0px;\n      \tbottom:0px;\n      }\n      .design-resize-right-bottom{\n      \theight:4px;\n      \twidth:4px;\n      \tcursor:se-resize; \n      \tright:0px;\n      \tbottom:0px;\n      }\n      .fb-tool{\n          height:40px;\n          background:#fff;\n          border-bottom: 1px solid #CCCCCC;\n          left: 0px;\n          position: absolute;\n          right: 0px;\n          top: 30px;\n      }\n\n      .fb-icon-computer{\n          background-image:url(../../resource/images/icon/computer.png);\n          width:16px;\n          height:13px;\n\n          position: absolute;\n          left: 4px;\n          top: 4px;\n      }\n\n\n      .fb-icon-go {\n          width:20px;\n          height:20px;\n          position: absolute;\n          top: 10px;\n          width: 20px;\n          left:10px;\n      }\n\n      .fb-icon-back{\n          background:url(../../resource/images/windows8/fb-prev.png) no-repeat; \n      }\n      .fb-icon-back-active{\n          background:url(../../resource/images/windows8/fb-prev-active.png) no-repeat; \n      }\n\n      .fb-icon-ahead-active{\n          left:40px;\n          background:url(../../resource/images/windows8/fb-next-active.png) no-repeat;\n      }\n\n      .fb-icon-back-active:hover{\n          background:url(../../resource/images/windows8/fb-prev-focus.png) no-repeat; \n      }\n\n      .fb-icon-ahead-active:hover{\n          background:url(../../resource/images/windows8/fb-next-focus.png) no-repeat;\n      }\n\n      .fb-icon-ahead{\n          left:40px;\n          background:url(../../resource/images/windows8/fb-next.png) no-repeat;\n      }\n\n      .fb-icon-arrow{\n          background:url(../../resource/images/windows8/arrow-top.png) no-repeat;\n          width:8px;\n          height:12px;\n    \n          position: absolute;\n          top: 13px;\n          left: 81px;\n      }\n\n\n      .fb-icon-triangle{\n          background:url(../../resource/images/windows8/triangle-bottom.png) no-repeat;\n          width:7px;\n          height:4px;\n          position: absolute;\n          top: 18px;\n          left: 66px;\n      }\n\n\n\n      .fb-icon-refresh\n      {\n          background-image:url(../../resource/images/windows8/refresh.png);\n          width:24px;\n          border:1px solid #ccc;\n          border-left:0px;\n\n          top:8px;\n          height:23px;\n          position: absolute;\n          right: 8px;\n      }\n\n      .fb-tool .icon {\n   \n      }\n\n      .fb-header{\n          width:100%;\n          height:35px;\n      }\n      .tool{\n          clear:right;\n          height:25px;\n      }\n\n      .fb-src-input{\n          float:left;\n          border:1px solid #ccc;\n          background:#fff;\n          position: absolute;\n          height:23px;\n          top: 8px;\n          left: 73px;\n          right:30px;\n      }\n\n\n\n      .fb-path-input\n      {\n          height:20px;\n          border:none;\n          position: absolute;\n          top: 0px;\n          left: 25px;\n          right:1px;\n          width:100%;\n      }\n\n      .fb-search-input\n      {\n          float:left;\n          border:1px solid #ccc;\n          background:#fff;\n          position: absolute;\n          height:23px;\n          top: 8px;\n          right:10px;\n          width:225px;\n      }\n\n      .fb-search-input input\n      {\n          height:17px;\n          border:none;\n          top:1px;\n          position: absolute;\n          right: 20px;\n          left:0px;\n          width:100%;\n      }\n      .fb-src-input input:focus, .fb-search-input input:focus{\n          border:none;\n      }\n\n      .fb-search{\n          background-image:url(../../resource/images/windows8/search.png);\n          width:21px;\n          height:19px;\n          position: absolute;\n          right: 0;\n      }\n    "],
            directives: [common_1.CORE_DIRECTIVES, shortcut_1.ShortcutCmp]
        }),
        __param(0, core_1.Inject(core_1.ElementRef)), 
        __metadata('design:paramtypes', [core_1.ElementRef])
    ], FileBrowserCmp);
    return FileBrowserCmp;
})(window_1.WindowCmp);
exports.FileBrowserCmp = FileBrowserCmp;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2t0b3AvYXBwbGljYXRpb24vZmlsZS1icm93c2VyLnRzIl0sIm5hbWVzIjpbIkZpbGVCcm93c2VyQ21wIiwiRmlsZUJyb3dzZXJDbXAuY29uc3RydWN0b3IiLCJGaWxlQnJvd3NlckNtcC5yaWdodENsaWNrIiwiRmlsZUJyb3dzZXJDbXAuaGlkZU1lbnUiLCJGaWxlQnJvd3NlckNtcC5kcm9wYm94IiwiRmlsZUJyb3dzZXJDbXAudXBsb2FkRmlsZSIsIkZpbGVCcm93c2VyQ21wLnNldFBhdGgiLCJGaWxlQnJvd3NlckNtcC5yZWZyZXNoIiwiRmlsZUJyb3dzZXJDbXAuYWN0aXZlQWhlYWRJY29uIiwiRmlsZUJyb3dzZXJDbXAuYWN0aXZlQmFja0ljb24iLCJGaWxlQnJvd3NlckNtcC5iYWNrIiwiRmlsZUJyb3dzZXJDbXAuYWhlYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUJBQW1ELGVBQWUsQ0FBQyxDQUFBO0FBQ25FLHVCQUE4QixpQkFBaUIsQ0FBQyxDQUFBO0FBRWhELHlCQUE0QixzQkFBc0IsQ0FBQyxDQUFBO0FBQ25ELHVCQUEwQyxpQkFBaUIsQ0FBQyxDQUFBO0FBRTVELHFCQUF3Qix5QkFBeUIsQ0FBQyxDQUFBO0FBS2xEO0lBK1RvQ0Esa0NBQVNBO0lBUzVDQSx3QkFBZ0NBLFVBQXNCQTtRQXhVdkRDLGlCQThkQ0E7UUFySk9BLGlCQUFPQSxDQUFBQTtRQVRYQSxjQUFTQSxHQUFHQSxFQUFFQSxDQUFBQTtRQUdkQSxVQUFLQSxHQUFHQSxHQUFHQSxDQUFBQTtRQUNkQSxXQUFNQSxHQUFHQSxHQUFHQSxDQUFBQTtRQUNUQSxTQUFJQSxHQUFHQSxHQUFHQSxDQUFBQTtRQUNWQSxVQUFLQSxHQUFHQSxFQUFFQSxDQUFBQTtRQUNWQSxXQUFNQSxHQUFHQSxFQUFFQSxDQUFBQTtRQUlQQSxJQUFJQSxDQUFDQSxPQUFPQSxHQUFHQSxVQUFVQSxDQUFDQSxhQUFhQSxDQUFBQTtRQUV2Q0EsSUFBSUEsQ0FBQ0EsU0FBU0Es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R0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQUE7WUFFcENBLEtBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLEVBQUNBLENBQUNBLENBQUNBLENBQUFBO1FBRTlDQSxDQUFDQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtJQUNkQSxDQUFDQTtJQUVESixtQ0FBVUEsR0FBVkEsVUFBV0EsSUFBSUEsRUFBRUEsTUFBTUE7UUFBdkJLLGlCQXNCQ0E7UUFyQkdBLElBQUlBLEdBQUdBLEdBQUdBLElBQUlBLGNBQWNBLEVBQUVBLENBQUNBO1FBQy9CQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxTQUFTQSxHQUFHQSxRQUFRQSxHQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUM3REEsR0FBR0EsQ0FBQ0EsTUFBTUEsR0FBR0E7WUFDVEEsS0FBSUEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQUE7UUFDbEJBLENBQUNBLENBQUNBO1FBQ0ZBLEdBQUdBLENBQUNBLE9BQU9BLEdBQUdBO1lBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUE7WUFDOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDQTtRQUNGQSxHQUFHQSxDQUFDQSxNQUFNQSxDQUFDQSxVQUFVQSxHQUFHQSxVQUFTQSxLQUFLQTtZQUVsQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ3RCLENBQUMsQ0FBQUE7UUFDREEsR0FBR0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsV0FBV0EsR0FBR0EsVUFBU0EsS0FBS0E7UUFFdkMsQ0FBQyxDQUFBQTtRQUdEQSxJQUFJQSxRQUFRQSxHQUFHQSxJQUFJQSxR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Q0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQUE7UUFDNUNBLENBQUNBO1FBQUFBLENBQUNBO0lBQ05BLENBQUNBO0lBM0pEWDtRQUFDQSxZQUFLQSxFQUFFQTs7T0FBQ0Esa0NBQU1BLFVBQUFBO0lBbFVuQkE7UUFBQ0EsZ0JBQVNBLENBQUNBO1lBQ1BBLFFBQVFBLEVBQUVBLGNBQWNBO1lBQ3hCQSxRQUFRQSxFQUFFQSx1QkFBY0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsY0FBY0EsRUFBQ0EscTlCQWlCL0NBLENBQUNBO1lBQ0ZBLE1BQU1BLEVBQUVBLENBQUNBLDRtTkF1U1JBLENBQUNBO1lBQ0ZBLFVBQVVBLEVBQUVBLENBQUNBLHdCQUFlQSxFQUFFQSxzQkFBV0EsQ0FBQ0E7U0FDN0NBLENBQUNBO1FBV1dBLFdBQUNBLGFBQU1BLENBQUNBLGlCQUFVQSxDQUFDQSxDQUFBQTs7dUJBc0ovQkE7SUFBREEscUJBQUNBO0FBQURBLENBOWRBLEFBOGRDQSxFQS9KbUMsa0JBQVMsRUErSjVDO0FBL0pZLHNCQUFjLGlCQStKMUIsQ0FBQSIsImZpbGUiOiJkZXNrdG9wL2FwcGxpY2F0aW9uL2ZpbGUtYnJvd3Nlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBJbmplY3QsIEVsZW1lbnRSZWYsIElucHV0fSBmcm9tICdhbmd1bGFyMi9jb3JlJztcbmltcG9ydCB7Q09SRV9ESVJFQ1RJVkVTfSBmcm9tICdhbmd1bGFyMi9jb21tb24nO1xuaW1wb3J0IHtkaWFsb2d9IGZyb20gJy4uL3Rvb2xzL3V0aWwnO1xuaW1wb3J0IHsgU2hvcnRjdXRDbXAgfSBmcm9tICcuLi9zaG9ydGN1dC9zaG9ydGN1dCc7XG5pbXBvcnQgeyBXaW5kb3dDbXAsIHdpbmRvd1RlbXBsYXRlIH0gZnJvbSAnLi4vcGFuZWwvd2luZG93JztcbmltcG9ydCB7IGRvY2tBcHBMaXN0IH0gZnJvbSAnLi4vLi4vZGVza3RvcC90YXNrYmFyL2RvY2snO1xuaW1wb3J0IHsgbWVudUxpc3R9IGZyb20gJy4uLy4uL2Rlc2t0b3AvbWVudS9tZW51JztcblxuZGVjbGFyZSB2YXIgJFxuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnZmlsZS1icm93c2VyJyxcbiAgICB0ZW1wbGF0ZTogd2luZG93VGVtcGxhdGUucmVwbGFjZSgne3tfX2JvZHlfX319JyxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmYi10b29sXCIgc3R5bGU9XCJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uIGZiLWljb24tZ28gZmItaWNvbi1iYWNrXCIgKGNsaWNrKT1cImJhY2soKVwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImljb24gZmItaWNvbi1nbyBmYi1pY29uLWFoZWFkXCIgKGNsaWNrKT1cImFoZWFkKClcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmYi1zcmMtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmItaWNvbi1jb21wdXRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZmItcGF0aC1pbnB1dFwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIiB2YWx1ZT1cInt7cGF0aH19XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZiLWljb24tcmVmcmVzaFwiIHN0eWxlPVwiXCI+IFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWZyZXNoXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCIgc3R5bGU9XCJvdmVyZmxvdy15OiBhdXRvO2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7cGFkZGluZy10b3A6IDcwcHg7XCIgKGNvbnRleHRtZW51KT1cInJpZ2h0Q2xpY2soJGV2ZW50KVwiIChjbGljayk9XCJoaWRlTWVudSgpXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LXRhYmxlXCIgKm5nSWY9XCJjb25maWcgJiYgY29uZmlnLmZpbGVMaXN0XCI+XG4gICAgICAgICAgICAgICAgPHNob3J0Y3V0IHN0eWxlPVwiZmxvYXQ6bGVmdFwiICpuZ0Zvcj1cIiNzaG9ydGN1dCBvZiBjb25maWcuZmlsZUxpc3RcIiBbc2hvcnRjdXRdPVwic2hvcnRjdXRcIj48L3Nob3J0Y3V0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIGApLFxuICAgIHN0eWxlczogW2BcblxuXG5cbiAgICAgIC5wYW5lbHtcbiAgICAgIFx0cG9zaXRpb246IGFic29sdXRlO1xuICAgICAgXHRsZWZ0OjEwMHB4O1xuICAgICAgXHR0b3A6MTAwcHg7XG4gICAgICBcdGJvcmRlcjoxcHggc29saWQgI2NjYztcbiAgICAgIFx0YmFja2dyb3VuZC1jb2xvcjojZmZmO1xuICAgICAgXHRib3JkZXItcmFkaXVzOjFweDtcbiAgICAgIH1cblxuXG4gICAgICAucGFuZWwgLmhlYWRlcntcbiAgICAgIFx0d2lkdGg6MTAwJTtcbiAgICAgICAgICBoZWlnaHQ6MzBweDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgXHRiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7XG4gICAgICB9XG5cbiAgICAgIC5wYW5lbC5mb2N1cyAuaGVhZGVyICB7XG4gICAgICBcdGJhY2tncm91bmQtY29sb3I6cmdiYSgxMzgsMTY1LDIwNCwxKTtcbiAgICAgIH1cblxuICAgICAgLnBhbmVsLmZvY3VzICB7XG4gICAgICBcdGJvcmRlci1jb2xvcjpyZ2JhKDEzOCwxNjUsMjA0LDEpO1xuICAgICAgfVxuXG4gICAgICAucGFuZWwgLmhlYWRlciAuaWNvbntcbiAgICAgICAgICBoZWlnaHQ6IDIwcHg7ICAgXHRcbiAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgICBtYXJnaW46IDRweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgICAgIH1cblxuICAgICAgLnBhbmVsIC5oZWFkZXIgLnRpdGxle1xuICAgICAgICAgIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG5cbiAgICAgIC5wYW5lbC10aXRsZS1idXR0b25zIHtcblxuICAgICAgICAgIGhlaWdodDo0MHB4O1xuICAgICAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgIFx0bWFyZ2luLXRvcDogMnB4O1xuICAgICAgXHRtYXJnaW4tcmlnaHQ6IDJweFxuICAgICAgfVxuXG5cbiAgICAgIC5wYW5lbC1idG4ge1xuICAgICAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICAgICAgbWFyZ2luLXRvcDogN3B4O1xuICAgICAgICAgIHdpZHRoOjg1cHg7XG4gICAgICAgICAgZm9udC1zaXplOjEzcHg7XG5cdFxuICAgICAgfVxuXG4gICAgICAuaWNvbi1taW57XG4gICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL2ljb24vbWluMi5wbmcpO1xuICAgICAgICAgIHdpZHRoOjQwcHg7XG4gICAgICAgICAgaGVpZ2h0OjE5cHg7XG4gICAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAuaWNvbi1tYXh7XG4gICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL2ljb24vbWF4Mi5wbmcpO1xuICAgICAgICAgIHdpZHRoOjQwcHg7XG4gICAgICAgICAgaGVpZ2h0OjE5cHg7XG4gICAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAuaWNvbi1jbG9zZXtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvaWNvbi9jbG9zZTIucG5nKTtcbiAgICAgICAgICB3aWR0aDo0MHB4O1xuICAgICAgICAgIGhlaWdodDoxOXB4O1xuICAgICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgfVxuXG4gICAgICAuaWNvbi1taW46aG92ZXJ7XG4gICAgICBcdGJhY2tncm91bmQtaW1hZ2U6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy9pY29uL21pbi5wbmcpO1xuICAgICAgfVxuXG4gICAgICAuaWNvbi1tYXg6aG92ZXJ7XG4gICAgICBcdGJhY2tncm91bmQtaW1hZ2U6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy9pY29uL21heC5wbmcpO1xuICAgICAgfVxuXG4gICAgICAuaWNvbi1jbG9zZTpob3ZlcntcbiAgICAgIFx0YmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL2ljb24vY2xvc2UucG5nKTtcbiAgICAgIH1cblxuICAgICAgLyp3aW5kb3cqL1xuICAgICAgLnBhbmVsIC5kZXNpZ24tcmVzaXplLWxlZnQsIC5kZXNpZ24tcmVzaXplLXJpZ2h0ICAsIC5kZXNpZ24tcmVzaXplLWJvdHRvbSAsIC5kZXNpZ24tcmVzaXplLWxlZnQtYm90dG9tICwgLmRlc2lnbi1yZXNpemUtcmlnaHQtYm90dG9te1xuICAgICAgXHRiYWNrZ3JvdW5kOiNiN2JmY2E7XG4gICAgICBcdGZsb2F0OiBsZWZ0O1xuICAgICAgXHRwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBcdG9wYWNpdHk6IDA7ICAgICAgICAgICAgICAgIC8qIEZpcmVmb3gsIFNhZmFyaShXZWJLaXQpLCBPcGVyYSxjaHJvbWUvICAgIGZpbHRlcjogXCJhbHBoYShvcGFjaXR5PTYwKVwiOyAvKiBJRSA4ICovXG4gICAgICBcdGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTsgICAvKiBJRSA0LTcgKi9cbiAgICAgIH1cbiAgICAgIC5kZXNpZ24tcmVzaXplLWxlZnR7XG4gICAgICBcdHdpZHRoOjRweDtcbiAgICAgIFx0aGVpZ2h0OiAxMDAlO1xuICAgICAgXHRjdXJzb3I6ZS1yZXNpemU7IFxuICAgICAgXHRsZWZ0OjBweDtcbiAgICAgIFx0dG9wOjBweDtcbiAgICAgIH1cbiAgICAgIC5kZXNpZ24tcmVzaXplLXJpZ2h0e1xuICAgICAgXHR3aWR0aDo0cHg7XG4gICAgICBcdGhlaWdodDogMTAwJTtcbiAgICAgIFx0Y3Vyc29yOmUtcmVzaXplOyBcbiAgICAgIFx0cmlnaHQ6MHB4O1xuICAgICAgXHR0b3A6MHB4O1xuICAgICAgfVxuICAgICAgLmRlc2lnbi1yZXNpemUtYm90dG9te1xuICAgICAgXHRoZWlnaHQ6NHB4O1xuICAgICAgXHR3aWR0aDoxMDAlO1xuICAgICAgXHRjdXJzb3I6bi1yZXNpemU7XG4gICAgICBcdG92ZXJmbG93OmhpZGRlbjsgXG4gICAgICBcdGxlZnQ6MHB4O1xuICAgICAgXHRib3R0b206MHB4O1xuICAgICAgfVxuICAgICAgLmRlc2lnbi1yZXNpemUtbGVmdC1ib3R0b217XG4gICAgICBcdGhlaWdodDo0cHg7XG4gICAgICBcdHdpZHRoOjRweDtcbiAgICAgIFx0Y3Vyc29yOnN3LXJlc2l6ZTsgXG4gICAgICBcdGxlZnQ6MHB4O1xuICAgICAgXHRib3R0b206MHB4O1xuICAgICAgfVxuICAgICAgLmRlc2lnbi1yZXNpemUtcmlnaHQtYm90dG9te1xuICAgICAgXHRoZWlnaHQ6NHB4O1xuICAgICAgXHR3aWR0aDo0cHg7XG4gICAgICBcdGN1cnNvcjpzZS1yZXNpemU7IFxuICAgICAgXHRyaWdodDowcHg7XG4gICAgICBcdGJvdHRvbTowcHg7XG4gICAgICB9XG4gICAgICAuZmItdG9vbHtcbiAgICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiNmZmY7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNDQ0NDQ0M7XG4gICAgICAgICAgbGVmdDogMHB4O1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICByaWdodDogMHB4O1xuICAgICAgICAgIHRvcDogMzBweDtcbiAgICAgIH1cblxuICAgICAgLmZiLWljb24tY29tcHV0ZXJ7XG4gICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL2ljb24vY29tcHV0ZXIucG5nKTtcbiAgICAgICAgICB3aWR0aDoxNnB4O1xuICAgICAgICAgIGhlaWdodDoxM3B4O1xuXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGxlZnQ6IDRweDtcbiAgICAgICAgICB0b3A6IDRweDtcbiAgICAgIH1cblxuXG4gICAgICAuZmItaWNvbi1nbyB7XG4gICAgICAgICAgd2lkdGg6MjBweDtcbiAgICAgICAgICBoZWlnaHQ6MjBweDtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAxMHB4O1xuICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICAgIGxlZnQ6MTBweDtcbiAgICAgIH1cblxuICAgICAgLmZiLWljb24tYmFja3tcbiAgICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvd2luZG93czgvZmItcHJldi5wbmcpIG5vLXJlcGVhdDsgXG4gICAgICB9XG4gICAgICAuZmItaWNvbi1iYWNrLWFjdGl2ZXtcbiAgICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvd2luZG93czgvZmItcHJldi1hY3RpdmUucG5nKSBuby1yZXBlYXQ7IFxuICAgICAgfVxuXG4gICAgICAuZmItaWNvbi1haGVhZC1hY3RpdmV7XG4gICAgICAgICAgbGVmdDo0MHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy93aW5kb3dzOC9mYi1uZXh0LWFjdGl2ZS5wbmcpIG5vLXJlcGVhdDtcbiAgICAgIH1cblxuICAgICAgLmZiLWljb24tYmFjay1hY3RpdmU6aG92ZXJ7XG4gICAgICAgICAgYmFja2dyb3VuZDp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL3dpbmRvd3M4L2ZiLXByZXYtZm9jdXMucG5nKSBuby1yZXBlYXQ7IFxuICAgICAgfVxuXG4gICAgICAuZmItaWNvbi1haGVhZC1hY3RpdmU6aG92ZXJ7XG4gICAgICAgICAgYmFja2dyb3VuZDp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL3dpbmRvd3M4L2ZiLW5leHQtZm9jdXMucG5nKSBuby1yZXBlYXQ7XG4gICAgICB9XG5cbiAgICAgIC5mYi1pY29uLWFoZWFke1xuICAgICAgICAgIGxlZnQ6NDBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvd2luZG93czgvZmItbmV4dC5wbmcpIG5vLXJlcGVhdDtcbiAgICAgIH1cblxuICAgICAgLmZiLWljb24tYXJyb3d7XG4gICAgICAgICAgYmFja2dyb3VuZDp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL3dpbmRvd3M4L2Fycm93LXRvcC5wbmcpIG5vLXJlcGVhdDtcbiAgICAgICAgICB3aWR0aDo4cHg7XG4gICAgICAgICAgaGVpZ2h0OjEycHg7XG4gICAgXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogMTNweDtcbiAgICAgICAgICBsZWZ0OiA4MXB4O1xuICAgICAgfVxuXG5cbiAgICAgIC5mYi1pY29uLXRyaWFuZ2xle1xuICAgICAgICAgIGJhY2tncm91bmQ6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy93aW5kb3dzOC90cmlhbmdsZS1ib3R0b20ucG5nKSBuby1yZXBlYXQ7XG4gICAgICAgICAgd2lkdGg6N3B4O1xuICAgICAgICAgIGhlaWdodDo0cHg7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogMThweDtcbiAgICAgICAgICBsZWZ0OiA2NnB4O1xuICAgICAgfVxuXG5cblxuICAgICAgLmZiLWljb24tcmVmcmVzaFxuICAgICAge1xuICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy93aW5kb3dzOC9yZWZyZXNoLnBuZyk7XG4gICAgICAgICAgd2lkdGg6MjRweDtcbiAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkICNjY2M7XG4gICAgICAgICAgYm9yZGVyLWxlZnQ6MHB4O1xuXG4gICAgICAgICAgdG9wOjhweDtcbiAgICAgICAgICBoZWlnaHQ6MjNweDtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgcmlnaHQ6IDhweDtcbiAgICAgIH1cblxuICAgICAgLmZiLXRvb2wgLmljb24ge1xuICAgXG4gICAgICB9XG5cbiAgICAgIC5mYi1oZWFkZXJ7XG4gICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgICBoZWlnaHQ6MzVweDtcbiAgICAgIH1cbiAgICAgIC50b29se1xuICAgICAgICAgIGNsZWFyOnJpZ2h0O1xuICAgICAgICAgIGhlaWdodDoyNXB4O1xuICAgICAgfVxuXG4gICAgICAuZmItc3JjLWlucHV0e1xuICAgICAgICAgIGZsb2F0OmxlZnQ7XG4gICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCAjY2NjO1xuICAgICAgICAgIGJhY2tncm91bmQ6I2ZmZjtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgaGVpZ2h0OjIzcHg7XG4gICAgICAgICAgdG9wOiA4cHg7XG4gICAgICAgICAgbGVmdDogNzNweDtcbiAgICAgICAgICByaWdodDozMHB4O1xuICAgICAgfVxuXG5cblxuICAgICAgLmZiLXBhdGgtaW5wdXRcbiAgICAgIHtcbiAgICAgICAgICBoZWlnaHQ6MjBweDtcbiAgICAgICAgICBib3JkZXI6bm9uZTtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgICAgbGVmdDogMjVweDtcbiAgICAgICAgICByaWdodDoxcHg7XG4gICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgIH1cblxuICAgICAgLmZiLXNlYXJjaC1pbnB1dFxuICAgICAge1xuICAgICAgICAgIGZsb2F0OmxlZnQ7XG4gICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCAjY2NjO1xuICAgICAgICAgIGJhY2tncm91bmQ6I2ZmZjtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgaGVpZ2h0OjIzcHg7XG4gICAgICAgICAgdG9wOiA4cHg7XG4gICAgICAgICAgcmlnaHQ6MTBweDtcbiAgICAgICAgICB3aWR0aDoyMjVweDtcbiAgICAgIH1cblxuICAgICAgLmZiLXNlYXJjaC1pbnB1dCBpbnB1dFxuICAgICAge1xuICAgICAgICAgIGhlaWdodDoxN3B4O1xuICAgICAgICAgIGJvcmRlcjpub25lO1xuICAgICAgICAgIHRvcDoxcHg7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgICAgIGxlZnQ6MHB4O1xuICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICB9XG4gICAgICAuZmItc3JjLWlucHV0IGlucHV0OmZvY3VzLCAuZmItc2VhcmNoLWlucHV0IGlucHV0OmZvY3Vze1xuICAgICAgICAgIGJvcmRlcjpub25lO1xuICAgICAgfVxuXG4gICAgICAuZmItc2VhcmNoe1xuICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy93aW5kb3dzOC9zZWFyY2gucG5nKTtcbiAgICAgICAgICB3aWR0aDoyMXB4O1xuICAgICAgICAgIGhlaWdodDoxOXB4O1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICByaWdodDogMDtcbiAgICAgIH1cbiAgICBgXSxcbiAgICBkaXJlY3RpdmVzOiBbQ09SRV9ESVJFQ1RJVkVTLCBTaG9ydGN1dENtcF1cbn0pXG5cbmV4cG9ydCBjbGFzcyBGaWxlQnJvd3NlckNtcCBleHRlbmRzIFdpbmRvd0NtcCB7XG4gICAgc2hvcnRjdXRzID0gW11cbiAgICBlbGVtZW50OiBhbnlcbiAgICBASW5wdXQoKSBjb25maWdcbiAgICB3aWR0aCA9IDgxMFxuXHRoZWlnaHQgPSA1MDBcbiAgICBwYXRoID0gJy8nXG4gICAgYmFja3MgPSBbXVxuICAgIGFoZWFkcyA9IFtdXG5cdGNvbnN0cnVjdG9yKEBJbmplY3QoRWxlbWVudFJlZikgZWxlbWVudFJlZjogRWxlbWVudFJlZil7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudFxuICAgICAgICBcbiAgICAgICAgdGhpcy5zZXREaWFsb2coKVxuICAgICAgICBcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5jb25maWcub2JqZWN0ID0gdGhpc1xuICAgICAgICAgICAgdGhpcy5zZXRQYXRoKHRoaXMuY29uZmlnLnBhdGgsIGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5zZXRUaXRsZSh0aGlzLmNvbmZpZy50aXRsZSlcbiAgICAgICAgICAgIHRoaXMuZHJvcGJveCgpXG4gICAgICAgIH0sMTAwKVxuICAgICAgICBcblx0fVxuICAgIHJpZ2h0Q2xpY2soZXZlbnQpe1xuICAgICAgICBpZiggIXRoaXMuY29uZmlnLm1lbnUgKVxuICAgICAgICAgICAgcmV0dXJuIFxuICAgICAgICAgICAgXG4gICAgICAgIG1lbnVMaXN0LnNwbGljZSgwLCAxMDApXG4gICAgICAgIG1lbnVMaXN0LnB1c2goe1xuICAgICAgICAgICAgdG9wOmV2ZW50LnBhZ2VZLTEwLFxuICAgICAgICAgICAgbGVmdDogZXZlbnQucGFnZVgsXG4gICAgICAgICAgICBpdGVtczogdGhpcy5jb25maWcubWVudSBcbiAgICAgICAgfSlcbiAgICAgICAgZXZlbnQucmV0dXJudmFsdWU9ZmFsc2U7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBcbiAgICBoaWRlTWVudSgpe1xuICAgICAgICBtZW51TGlzdC5zcGxpY2UoMCwxMDApXG4gICAgfVxuICAgIFxuICAgIGRyb3Bib3goKXtcbiAgICAgICAgXG4gICAgICAgIHZhciBkcm9wYm94ID0gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy5ib2R5JylbMF1cbiAgICAgICAgXG4gICAgICAgIGRyb3Bib3guYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbnRlclwiLCBmdW5jdGlvbihlKXsgIFxuICAgICAgICAgICAgZHJvcGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmMmYyZjInOyAgXG4gICAgICAgIH0sIGZhbHNlKTsgIFxuICAgICAgICBkcm9wYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgZnVuY3Rpb24oZSl7ICBcbiAgICAgICAgICAgIGRyb3Bib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjZmZmJzsgIFxuICAgICAgICB9LCBmYWxzZSk7ICBcbiAgICAgICAgZHJvcGJveC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIGZ1bmN0aW9uKGUpeyAgXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAgXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7ICBcbiAgICAgICAgfSwgZmFsc2UpOyAgXG4gICAgICAgIGRyb3Bib3guYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIGZ1bmN0aW9uKGUpeyAgXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAgXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7ICBcbiAgICAgICAgfSwgZmFsc2UpOyAgXG4gICAgICAgIGRyb3Bib3guYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgKGUpPT57ICBcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7ICBcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgIFxuICAgICAgICAgICAgZHJvcGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnOyAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLmRhdGFUcmFuc2Zlci5maWxlc1swXSlcbiAgICAgICAgICAgIC8vIGhhbmRsZUZpbGVzKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTsgIFxuICAgICAgICAgICAgdGhpcy51cGxvYWRGaWxlKGUuZGF0YVRyYW5zZmVyLmZpbGVzWzBdLDEpXG4gICAgICAgICAgICAvLyBzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTsgIFxuICAgICAgICB9LCBmYWxzZSk7ICBcbiAgICB9XG4gICAgIFxuICAgIHVwbG9hZEZpbGUoZmlsZSwgc3RhdHVzKSB7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCB0aGlzLmNvbmZpZy51cGxvYWRVcmwgKyAnP3BhdGg9Jyt0aGlzLnBhdGgpO1xuICAgICAgICB4aHIub25sb2FkID0gKCk9PiB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKVxuICAgICAgICB9O1xuICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXNwb25zZVRleHQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlLnNpemUpO1xuICAgICAgICB9O1xuICAgICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gaGFuZGxlUHJvZ3Jlc3MoZXZlbnQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpXG4gICAgICAgIH1cbiAgICAgICAgeGhyLnVwbG9hZC5vbmxvYWRzdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gcHJlcGFyZSBGb3JtRGF0YVxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdteWZpbGUnLCBmaWxlKTtcbiAgICAgICAgeGhyLnNlbmQoZm9ybURhdGEpO1xuICAgIH1cbiAgICBcbiAgICBzZXRQYXRoKHBhdGgsIGlzUHVzaCA9IHRydWUpe1xuICAgICAgICBpZiggaXNQdXNoICl7XG4gICAgICAgICAgICB0aGlzLmJhY2tzLnB1c2godGhpcy5wYXRoKVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVCYWNrSWNvbih0cnVlKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGhcbiAgICAgICAgdGhpcy5jb25maWcub25TZXRQYXRoJiYgdGhpcy5jb25maWcub25TZXRQYXRoKHRoaXMucGF0aClcbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIHJlZnJlc2goKXtcbiAgICAgICAgdGhpcy5jb25maWcub25TZXRQYXRoJiYgdGhpcy5jb25maWcub25TZXRQYXRoKHRoaXMucGF0aClcbiAgICB9XG4gICAgXG4gICAgYWN0aXZlQWhlYWRJY29uKGlzQWN0aXZlKVxuICAgIHtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmZiLWljb24tYWhlYWQnKS5hZGRDbGFzcygnZmItaWNvbi1haGVhZC1hY3RpdmUnKVxuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy5mYi1pY29uLWFoZWFkJykucmVtb3ZlQ2xhc3MoJ2ZiLWljb24tYWhlYWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuZmItaWNvbi1haGVhZC1hY3RpdmUnKS5hZGRDbGFzcygnZmItaWNvbi1haGVhZCcpO1xuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy5mYi1pY29uLWFoZWFkLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdmYi1pY29uLWFoZWFkLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGFjdGl2ZUJhY2tJY29uKGlzQWN0aXZlKVxuICAgIHtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmZiLWljb24tYmFjaycpLmFkZENsYXNzKCdmYi1pY29uLWJhY2stYWN0aXZlJyk7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmZiLWljb24tYmFjaycpLnJlbW92ZUNsYXNzKCdmYi1pY29uLWJhY2snKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuZmItaWNvbi1iYWNrLWFjdGl2ZScpLmFkZENsYXNzKCdmYi1pY29uLWJhY2snKTtcbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuZmItaWNvbi1iYWNrLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdmYi1pY29uLWJhY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgYmFjayAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFja3MubGVuZ3RoKSBcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBhdGggPSB0aGlzLmJhY2tzLnBvcCgpXG4gICAgICAgICAgICB0aGlzLmFoZWFkcy5wdXNoKHRoaXMucGF0aClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5zZXRQYXRoKHBhdGgsIGZhbHNlKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUJhY2tJY29uKHRoaXMuYmFja3MubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVBaGVhZEljb24odGhpcy5haGVhZHMubGVuZ3RoKVxuICAgICAgICB9XG4gICAgfSBcbiAgICBhaGVhZCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWhlYWRzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBhdGggPSB0aGlzLmFoZWFkcy5wb3AoKVxuICAgICAgICAgICAgdGhpcy5iYWNrcy5wdXNoKHRoaXMucGF0aClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5zZXRQYXRoKHBhdGgsIGZhbHNlKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUJhY2tJY29uKHRoaXMuYmFja3MubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVBaGVhZEljb24odGhpcy5haGVhZHMubGVuZ3RoKVxuICAgICAgICB9O1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
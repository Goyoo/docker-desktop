var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = require('angular2/core');
var common_1 = require('angular2/common');
var shortcut_1 = require('../shortcut/shortcut');
var window_1 = require('../panel/window');
var menu_1 = require('../../desktop/menu/menu');
var FileBrowserCmp = (function (_super) {
    __extends(FileBrowserCmp, _super);
    function FileBrowserCmp(elementRef) {
        var _this = this;
        _super.call(this);
        this.shortcuts = [];
        this.width = 810;
        this.height = 500;
        this.path = '/';
        this.backs = [];
        this.aheads = [];
        this.element = elementRef.nativeElement;
        this.setDialog();
        setTimeout(function () {
            _this.config.object = _this;
            _this.setPath(_this.config.path, false);
            _this.setTitle(_this.config.title);
            _this.dropbox();
        }, 100);
    }
    FileBrowserCmp.prototype.rightClick = function (event) {
        if (!this.config.menu)
            return;
        menu_1.menuList.splice(0, 100);
        menu_1.menuList.push({
            top: event.pageY - 10,
            left: event.pageX,
            items: this.config.menu
        });
        event.returnvalue = false;
        return false;
    };
    FileBrowserCmp.prototype.hideMenu = function () {
        menu_1.menuList.splice(0, 100);
    };
    FileBrowserCmp.prototype.dropbox = function () {
        var _this = this;
        var dropbox = $(this.element).find('.body')[0];
        dropbox.addEventListener("dragenter", function (e) {
            dropbox.style.background = '#f2f2f2';
        }, false);
        dropbox.addEventListener("dragleave", function (e) {
            dropbox.style.background = '#fff';
        }, false);
        dropbox.addEventListener("dragenter", function (e) {
            e.stopPropagation();
            e.preventDefault();
        }, false);
        dropbox.addEventListener("dragover", function (e) {
            e.stopPropagation();
            e.preventDefault();
        }, false);
        dropbox.addEventListener("drop", function (e) {
            e.stopPropagation();
            e.preventDefault();
            dropbox.style.background = '#fff';
            console.log(e.dataTransfer.files[0]);
            _this.uploadFile(e.dataTransfer.files[0], 1);
        }, false);
    };
    FileBrowserCmp.prototype.uploadFile = function (file, status) {
        var _this = this;
        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/upload');
        xhr.onload = function () {
            _this.refresh();
        };
        xhr.onerror = function () {
            console.log(this.responseText);
            console.log(file.size);
        };
        xhr.upload.onprogress = function (event) {
            console.log(event);
        };
        xhr.upload.onloadstart = function (event) {
        };
        var formData = new FormData();
        formData.append('myfile', file);
        xhr.send(formData);
    };
    FileBrowserCmp.prototype.setPath = function (path, isPush) {
        if (isPush === void 0) { isPush = true; }
        if (isPush) {
            this.backs.push(this.path);
            this.activeBackIcon(true);
        }
        this.path = path;
        this.config.onSetPath && this.config.onSetPath(this.path);
    };
    FileBrowserCmp.prototype.refresh = function () {
        this.config.onSetPath && this.config.onSetPath(this.path);
    };
    FileBrowserCmp.prototype.activeAheadIcon = function (isActive) {
        if (isActive) {
            $(this.element).find('.fb-icon-ahead').addClass('fb-icon-ahead-active');
            $(this.element).find('.fb-icon-ahead').removeClass('fb-icon-ahead');
        }
        else {
            $(this.element).find('.fb-icon-ahead-active').addClass('fb-icon-ahead');
            $(this.element).find('.fb-icon-ahead-active').removeClass('fb-icon-ahead-active');
        }
    };
    FileBrowserCmp.prototype.activeBackIcon = function (isActive) {
        if (isActive) {
            $(this.element).find('.fb-icon-back').addClass('fb-icon-back-active');
            $(this.element).find('.fb-icon-back').removeClass('fb-icon-back');
        }
        else {
            $(this.element).find('.fb-icon-back-active').addClass('fb-icon-back');
            $(this.element).find('.fb-icon-back-active').removeClass('fb-icon-back-active');
        }
    };
    FileBrowserCmp.prototype.back = function () {
        if (this.backs.length) {
            var path = this.backs.pop();
            this.aheads.push(this.path);
            this.setPath(path, false);
            this.activeBackIcon(this.backs.length);
            this.activeAheadIcon(this.aheads.length);
        }
    };
    FileBrowserCmp.prototype.ahead = function () {
        if (this.aheads.length) {
            var path = this.aheads.pop();
            this.backs.push(this.path);
            this.setPath(path, false);
            this.activeBackIcon(this.backs.length);
            this.activeAheadIcon(this.aheads.length);
        }
        ;
    };
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Object)
    ], FileBrowserCmp.prototype, "config", void 0);
    FileBrowserCmp = __decorate([
        core_1.Component({
            selector: 'file-browser',
            template: window_1.windowTemplate.replace('{{__body__}}', "\n        <div class=\"fb-tool\" style=\"\">\n            <div class=\"icon fb-icon-go fb-icon-back\" (click)=\"back()\"></div>\n            <div class=\"icon fb-icon-go fb-icon-ahead\" (click)=\"ahead()\"></div>\n            <div class=\"icon fb-icon-triangle\"></div>\n            <div class=\"icon fb-icon-arrow\"></div>\n            <div class=\"fb-src-input\">\n                <div class=\"fb-icon-computer\"></div>\n                <input type=\"text\" class=\"fb-path-input\" readonly=\"readonly\" value=\"{{path}}\" />\n            </div>\n            <div class=\"fb-icon-refresh\" style=\"\"> \n                <div class=\"refresh\"></div>\n            </div>\n        </div>\n        <div class=\"body\" style=\"overflow-y: auto;height:100%;width:100%;padding-top: 70px;\" (contextmenu)=\"rightClick($event)\" (click)=\"hideMenu()\">\n            <div class=\"layout-table\" *ngIf=\"config && config.fileList\">\n                <shortcut style=\"float:left\" *ngFor=\"#shortcut of config.fileList\" [shortcut]=\"shortcut\"></shortcut>\n            </div>\n        </div>\n    "),
            styles: ["\n\n\n\n      .panel{\n      \tposition: absolute;\n      \tleft:100px;\n      \ttop:100px;\n      \tborder:1px solid #ccc;\n      \tbackground-color:#fff;\n      \tborder-radius:1px;\n      }\n\n\n      .panel .header{\n      \twidth:100%;\n          height:30px;\n          text-align: left;\n      \tbackground-color:#eee;\n      }\n\n      .panel.focus .header  {\n      \tbackground-color:rgba(138,165,204,1);\n      }\n\n      .panel.focus  {\n      \tborder-color:rgba(138,165,204,1);\n      }\n\n      .panel .header .icon{\n          height: 20px;   \t\n          width: 20px;\n          float: left;\n          margin: 4px;\n          background-size: 20px 20px;\n          background-image: url(\"../../resource/images/computer.ico\");\n      }\n\n      .panel .header .title{\n          padding-top: 5px;\n          float: left;\n      }\n\n      .panel-title-buttons {\n\n          height:40px;\n          float: right;\n      \tmargin-top: 2px;\n      \tmargin-right: 2px\n      }\n\n\n      .panel-btn {\n          float: right;\n          margin-right: 10px;\n          margin-top: 7px;\n          width:85px;\n          font-size:13px;\n\t\n      }\n\n      .icon-min{\n          background-image:url(../../resource/images/icon/min2.png);\n          width:40px;\n          height:19px;\n          float: left;\n      }\n      .icon-max{\n          background-image:url(../../resource/images/icon/max2.png);\n          width:40px;\n          height:19px;\n          float: left;\n      }\n      .icon-close{\n          background-image:url(../../resource/images/icon/close2.png);\n          width:40px;\n          height:19px;\n          float: left;\n      }\n\n      .icon-min:hover{\n      \tbackground-image:url(../../resource/images/icon/min.png);\n      }\n\n      .icon-max:hover{\n      \tbackground-image:url(../../resource/images/icon/max.png);\n      }\n\n      .icon-close:hover{\n      \tbackground-image:url(../../resource/images/icon/close.png);\n      }\n\n      /*window*/\n      .panel .design-resize-left, .design-resize-right  , .design-resize-bottom , .design-resize-left-bottom , .design-resize-right-bottom{\n      \tbackground:#b7bfca;\n      \tfloat: left;\n      \tposition: absolute;\n      \topacity: 0;                /* Firefox, Safari(WebKit), Opera,chrome/    filter: \"alpha(opacity=60)\"; /* IE 8 */\n      \tfilter: alpha(opacity=0);   /* IE 4-7 */\n      }\n      .design-resize-left{\n      \twidth:4px;\n      \theight: 100%;\n      \tcursor:e-resize; \n      \tleft:0px;\n      \ttop:0px;\n      }\n      .design-resize-right{\n      \twidth:4px;\n      \theight: 100%;\n      \tcursor:e-resize; \n      \tright:0px;\n      \ttop:0px;\n      }\n      .design-resize-bottom{\n      \theight:4px;\n      \twidth:100%;\n      \tcursor:n-resize;\n      \toverflow:hidden; \n      \tleft:0px;\n      \tbottom:0px;\n      }\n      .design-resize-left-bottom{\n      \theight:4px;\n      \twidth:4px;\n      \tcursor:sw-resize; \n      \tleft:0px;\n      \tbottom:0px;\n      }\n      .design-resize-right-bottom{\n      \theight:4px;\n      \twidth:4px;\n      \tcursor:se-resize; \n      \tright:0px;\n      \tbottom:0px;\n      }\n      .fb-tool{\n          height:40px;\n          background:#fff;\n          border-bottom: 1px solid #CCCCCC;\n          left: 0px;\n          position: absolute;\n          right: 0px;\n          top: 30px;\n      }\n\n      .fb-icon-computer{\n          background-image:url(../../resource/images/icon/computer.png);\n          width:16px;\n          height:13px;\n\n          position: absolute;\n          left: 4px;\n          top: 4px;\n      }\n\n\n      .fb-icon-go {\n          width:20px;\n          height:20px;\n          position: absolute;\n          top: 10px;\n          width: 20px;\n          left:10px;\n      }\n\n      .fb-icon-back{\n          background:url(../../resource/images/windows8/fb-prev.png) no-repeat; \n      }\n      .fb-icon-back-active{\n          background:url(../../resource/images/windows8/fb-prev-active.png) no-repeat; \n      }\n\n      .fb-icon-ahead-active{\n          left:40px;\n          background:url(../../resource/images/windows8/fb-next-active.png) no-repeat;\n      }\n\n      .fb-icon-back-active:hover{\n          background:url(../../resource/images/windows8/fb-prev-focus.png) no-repeat; \n      }\n\n      .fb-icon-ahead-active:hover{\n          background:url(../../resource/images/windows8/fb-next-focus.png) no-repeat;\n      }\n\n      .fb-icon-ahead{\n          left:40px;\n          background:url(../../resource/images/windows8/fb-next.png) no-repeat;\n      }\n\n      .fb-icon-arrow{\n          background:url(../../resource/images/windows8/arrow-top.png) no-repeat;\n          width:8px;\n          height:12px;\n    \n          position: absolute;\n          top: 13px;\n          left: 81px;\n      }\n\n\n      .fb-icon-triangle{\n          background:url(../../resource/images/windows8/triangle-bottom.png) no-repeat;\n          width:7px;\n          height:4px;\n          position: absolute;\n          top: 18px;\n          left: 66px;\n      }\n\n\n\n      .fb-icon-refresh\n      {\n          background-image:url(../../resource/images/windows8/refresh.png);\n          width:24px;\n          border:1px solid #ccc;\n          border-left:0px;\n\n          top:8px;\n          height:23px;\n          position: absolute;\n          right: 8px;\n      }\n\n      .fb-tool .icon {\n   \n      }\n\n      .fb-header{\n          width:100%;\n          height:35px;\n      }\n      .tool{\n          clear:right;\n          height:25px;\n      }\n\n      .fb-src-input{\n          float:left;\n          border:1px solid #ccc;\n          background:#fff;\n          position: absolute;\n          height:23px;\n          top: 8px;\n          left: 93px;\n          right:30px;\n      }\n\n\n\n      .fb-path-input\n      {\n          height:17px;\n          border:none;\n          position: absolute;\n          top: 1px;\n          left: 25px;\n          right:1px;\n          width:100%;\n      }\n\n      .fb-search-input\n      {\n          float:left;\n          border:1px solid #ccc;\n          background:#fff;\n          position: absolute;\n          height:23px;\n          top: 8px;\n          right:10px;\n          width:225px;\n      }\n\n      .fb-search-input input\n      {\n          height:17px;\n          border:none;\n          top:1px;\n          position: absolute;\n          right: 20px;\n          left:0px;\n          width:100%;\n      }\n      .fb-src-input input:focus, .fb-search-input input:focus{\n          border:none;\n      }\n\n      .fb-search{\n          background-image:url(../../resource/images/windows8/search.png);\n          width:21px;\n          height:19px;\n          position: absolute;\n          right: 0;\n      }\n    "],
            directives: [common_1.CORE_DIRECTIVES, shortcut_1.ShortcutCmp]
        }),
        __param(0, core_1.Inject(core_1.ElementRef)), 
        __metadata('design:paramtypes', [core_1.ElementRef])
    ], FileBrowserCmp);
    return FileBrowserCmp;
})(window_1.WindowCmp);
exports.FileBrowserCmp = FileBrowserCmp;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2t0b3AvYXBwbGljYXRpb24vZmlsZS1icm93c2VyLnRzIl0sIm5hbWVzIjpbIkZpbGVCcm93c2VyQ21wIiwiRmlsZUJyb3dzZXJDbXAuY29uc3RydWN0b3IiLCJGaWxlQnJvd3NlckNtcC5yaWdodENsaWNrIiwiRmlsZUJyb3dzZXJDbXAuaGlkZU1lbnUiLCJGaWxlQnJvd3NlckNtcC5kcm9wYm94IiwiRmlsZUJyb3dzZXJDbXAudXBsb2FkRmlsZSIsIkZpbGVCcm93c2VyQ21wLnNldFBhdGgiLCJGaWxlQnJvd3NlckNtcC5yZWZyZXNoIiwiRmlsZUJyb3dzZXJDbXAuYWN0aXZlQWhlYWRJY29uIiwiRmlsZUJyb3dzZXJDbXAuYWN0aXZlQmFja0ljb24iLCJGaWxlQnJvd3NlckNtcC5iYWNrIiwiRmlsZUJyb3dzZXJDbXAuYWhlYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUJBQW1ELGVBQWUsQ0FBQyxDQUFBO0FBQ25FLHVCQUE4QixpQkFBaUIsQ0FBQyxDQUFBO0FBRWhELHlCQUE0QixzQkFBc0IsQ0FBQyxDQUFBO0FBQ25ELHVCQUEwQyxpQkFBaUIsQ0FBQyxDQUFBO0FBRTVELHFCQUF3Qix5QkFBeUIsQ0FBQyxDQUFBO0FBS2xEO0lBa1VvQ0Esa0NBQVNBO0lBUzVDQSx3QkFBZ0NBLFVBQXNCQTtRQTNVdkRDLGlCQWllQ0E7UUFySk9BLGlCQUFPQSxDQUFBQTtRQVRYQSxjQUFTQSxHQUFHQSxFQUFFQSxDQUFBQTtRQUdkQSxVQUFLQSxHQUFHQSxHQUFHQSxDQUFBQTtRQUNkQSxXQUFNQSxHQUFHQSxHQUFHQSxDQUFBQTtRQUNUQSxTQUFJQSxHQUFHQSxHQUFHQSxDQUFBQTtRQUNWQSxVQUFLQSxHQUFHQSxFQUFFQSxDQUFBQTtRQUNWQSxXQUFNQSxHQUFHQSxFQUFFQSxDQUFBQTtRQUlQQSxJQUFJQSxDQUFDQSxPQUFPQSxHQUFHQSxVQUFVQSxDQUFDQSxhQUFhQSxDQUFBQTtRQUV2Q0EsSUFBSUEsQ0FBQ0EsU0FBU0Es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QSxDQUFDQTtJQUVEVCw2QkFBSUEsR0FBSkE7UUFFSVUsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FDdEJBLENBQUNBO1lBQ0dBLElBQUlBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLEVBQUVBLENBQUFBO1lBQzNCQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFBQTtZQUUzQkEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsRUFBRUEsS0FBS0EsQ0FBQ0EsQ0FBQUE7WUFFekJBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLENBQUNBLENBQUFBO1lBQ3RDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFBQTtRQUM1Q0EsQ0FBQ0E7SUFDTEEsQ0FBQ0E7SUFDRFYsOEJBQUtBLEdBQUxBO1FBRUlXLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBLENBQ3ZCQSxDQUFDQTtZQUNHQSxJQUFJQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFBQTtZQUM1QkEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQUE7WUFFMUJBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLEVBQUVBLEtBQUtBLENBQUNBLENBQUFBO1lBRXpCQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFBQTtZQUN0Q0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQUE7UUFDNUNBLENBQUNBO1FBQUFBLENBQUNBO0lBQ05BLENBQUNBO0lBM0pEWDtRQUFDQSxZQUFLQSxFQUFFQTs7T0FBQ0Esa0NBQU1BLFVBQUFBO0lBclVuQkE7UUFBQ0EsZ0JBQVNBLENBQUNBO1lBQ1BBLFFBQVFBLEVBQUVBLGNBQWNBO1lBQ3hCQSxRQUFRQSxFQUFFQSx1QkFBY0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsY0FBY0EsRUFBQ0Esb2tDQW1CL0NBLENBQUNBO1lBQ0ZBLE1BQU1BLEVBQUVBLENBQUNBLHNyTkF3U1JBLENBQUNBO1lBQ0ZBLFVBQVVBLEVBQUVBLENBQUNBLHdCQUFlQSxFQUFFQSxzQkFBV0EsQ0FBQ0E7U0FDN0NBLENBQUNBO1FBV1dBLFdBQUNBLGFBQU1BLENBQUNBLGlCQUFVQSxDQUFDQSxDQUFBQTs7dUJBc0ovQkE7SUFBREEscUJBQUNBO0FBQURBLENBamVBLEFBaWVDQSxFQS9KbUMsa0JBQVMsRUErSjVDO0FBL0pZLHNCQUFjLGlCQStKMUIsQ0FBQSIsImZpbGUiOiJkZXNrdG9wL2FwcGxpY2F0aW9uL2ZpbGUtYnJvd3Nlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBJbmplY3QsIEVsZW1lbnRSZWYsIElucHV0fSBmcm9tICdhbmd1bGFyMi9jb3JlJztcbmltcG9ydCB7Q09SRV9ESVJFQ1RJVkVTfSBmcm9tICdhbmd1bGFyMi9jb21tb24nO1xuaW1wb3J0IHtkaWFsb2d9IGZyb20gJy4uL3Rvb2xzL3V0aWwnO1xuaW1wb3J0IHsgU2hvcnRjdXRDbXAgfSBmcm9tICcuLi9zaG9ydGN1dC9zaG9ydGN1dCc7XG5pbXBvcnQgeyBXaW5kb3dDbXAsIHdpbmRvd1RlbXBsYXRlIH0gZnJvbSAnLi4vcGFuZWwvd2luZG93JztcbmltcG9ydCB7IGRvY2tBcHBMaXN0IH0gZnJvbSAnLi4vLi4vZGVza3RvcC90YXNrYmFyL2RvY2snO1xuaW1wb3J0IHsgbWVudUxpc3R9IGZyb20gJy4uLy4uL2Rlc2t0b3AvbWVudS9tZW51JztcblxuZGVjbGFyZSB2YXIgJFxuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnZmlsZS1icm93c2VyJyxcbiAgICB0ZW1wbGF0ZTogd2luZG93VGVtcGxhdGUucmVwbGFjZSgne3tfX2JvZHlfX319JyxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmYi10b29sXCIgc3R5bGU9XCJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uIGZiLWljb24tZ28gZmItaWNvbi1iYWNrXCIgKGNsaWNrKT1cImJhY2soKVwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImljb24gZmItaWNvbi1nbyBmYi1pY29uLWFoZWFkXCIgKGNsaWNrKT1cImFoZWFkKClcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uIGZiLWljb24tdHJpYW5nbGVcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uIGZiLWljb24tYXJyb3dcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmYi1zcmMtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmItaWNvbi1jb21wdXRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZmItcGF0aC1pbnB1dFwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIiB2YWx1ZT1cInt7cGF0aH19XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZiLWljb24tcmVmcmVzaFwiIHN0eWxlPVwiXCI+IFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWZyZXNoXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCIgc3R5bGU9XCJvdmVyZmxvdy15OiBhdXRvO2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7cGFkZGluZy10b3A6IDcwcHg7XCIgKGNvbnRleHRtZW51KT1cInJpZ2h0Q2xpY2soJGV2ZW50KVwiIChjbGljayk9XCJoaWRlTWVudSgpXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LXRhYmxlXCIgKm5nSWY9XCJjb25maWcgJiYgY29uZmlnLmZpbGVMaXN0XCI+XG4gICAgICAgICAgICAgICAgPHNob3J0Y3V0IHN0eWxlPVwiZmxvYXQ6bGVmdFwiICpuZ0Zvcj1cIiNzaG9ydGN1dCBvZiBjb25maWcuZmlsZUxpc3RcIiBbc2hvcnRjdXRdPVwic2hvcnRjdXRcIj48L3Nob3J0Y3V0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIGApLFxuICAgIHN0eWxlczogW2BcblxuXG5cbiAgICAgIC5wYW5lbHtcbiAgICAgIFx0cG9zaXRpb246IGFic29sdXRlO1xuICAgICAgXHRsZWZ0OjEwMHB4O1xuICAgICAgXHR0b3A6MTAwcHg7XG4gICAgICBcdGJvcmRlcjoxcHggc29saWQgI2NjYztcbiAgICAgIFx0YmFja2dyb3VuZC1jb2xvcjojZmZmO1xuICAgICAgXHRib3JkZXItcmFkaXVzOjFweDtcbiAgICAgIH1cblxuXG4gICAgICAucGFuZWwgLmhlYWRlcntcbiAgICAgIFx0d2lkdGg6MTAwJTtcbiAgICAgICAgICBoZWlnaHQ6MzBweDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgXHRiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7XG4gICAgICB9XG5cbiAgICAgIC5wYW5lbC5mb2N1cyAuaGVhZGVyICB7XG4gICAgICBcdGJhY2tncm91bmQtY29sb3I6cmdiYSgxMzgsMTY1LDIwNCwxKTtcbiAgICAgIH1cblxuICAgICAgLnBhbmVsLmZvY3VzICB7XG4gICAgICBcdGJvcmRlci1jb2xvcjpyZ2JhKDEzOCwxNjUsMjA0LDEpO1xuICAgICAgfVxuXG4gICAgICAucGFuZWwgLmhlYWRlciAuaWNvbntcbiAgICAgICAgICBoZWlnaHQ6IDIwcHg7ICAgXHRcbiAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgICBtYXJnaW46IDRweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi9yZXNvdXJjZS9pbWFnZXMvY29tcHV0ZXIuaWNvXCIpO1xuICAgICAgfVxuXG4gICAgICAucGFuZWwgLmhlYWRlciAudGl0bGV7XG4gICAgICAgICAgcGFkZGluZy10b3A6IDVweDtcbiAgICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgIH1cblxuICAgICAgLnBhbmVsLXRpdGxlLWJ1dHRvbnMge1xuXG4gICAgICAgICAgaGVpZ2h0OjQwcHg7XG4gICAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgXHRtYXJnaW4tdG9wOiAycHg7XG4gICAgICBcdG1hcmdpbi1yaWdodDogMnB4XG4gICAgICB9XG5cblxuICAgICAgLnBhbmVsLWJ0biB7XG4gICAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgICAgICAgd2lkdGg6ODVweDtcbiAgICAgICAgICBmb250LXNpemU6MTNweDtcblx0XG4gICAgICB9XG5cbiAgICAgIC5pY29uLW1pbntcbiAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvaWNvbi9taW4yLnBuZyk7XG4gICAgICAgICAgd2lkdGg6NDBweDtcbiAgICAgICAgICBoZWlnaHQ6MTlweDtcbiAgICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgIH1cbiAgICAgIC5pY29uLW1heHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvaWNvbi9tYXgyLnBuZyk7XG4gICAgICAgICAgd2lkdGg6NDBweDtcbiAgICAgICAgICBoZWlnaHQ6MTlweDtcbiAgICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgIH1cbiAgICAgIC5pY29uLWNsb3Nle1xuICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy9pY29uL2Nsb3NlMi5wbmcpO1xuICAgICAgICAgIHdpZHRoOjQwcHg7XG4gICAgICAgICAgaGVpZ2h0OjE5cHg7XG4gICAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG5cbiAgICAgIC5pY29uLW1pbjpob3ZlcntcbiAgICAgIFx0YmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL2ljb24vbWluLnBuZyk7XG4gICAgICB9XG5cbiAgICAgIC5pY29uLW1heDpob3ZlcntcbiAgICAgIFx0YmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL2ljb24vbWF4LnBuZyk7XG4gICAgICB9XG5cbiAgICAgIC5pY29uLWNsb3NlOmhvdmVye1xuICAgICAgXHRiYWNrZ3JvdW5kLWltYWdlOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvaWNvbi9jbG9zZS5wbmcpO1xuICAgICAgfVxuXG4gICAgICAvKndpbmRvdyovXG4gICAgICAucGFuZWwgLmRlc2lnbi1yZXNpemUtbGVmdCwgLmRlc2lnbi1yZXNpemUtcmlnaHQgICwgLmRlc2lnbi1yZXNpemUtYm90dG9tICwgLmRlc2lnbi1yZXNpemUtbGVmdC1ib3R0b20gLCAuZGVzaWduLXJlc2l6ZS1yaWdodC1ib3R0b217XG4gICAgICBcdGJhY2tncm91bmQ6I2I3YmZjYTtcbiAgICAgIFx0ZmxvYXQ6IGxlZnQ7XG4gICAgICBcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIFx0b3BhY2l0eTogMDsgICAgICAgICAgICAgICAgLyogRmlyZWZveCwgU2FmYXJpKFdlYktpdCksIE9wZXJhLGNocm9tZS8gICAgZmlsdGVyOiBcImFscGhhKG9wYWNpdHk9NjApXCI7IC8qIElFIDggKi9cbiAgICAgIFx0ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApOyAgIC8qIElFIDQtNyAqL1xuICAgICAgfVxuICAgICAgLmRlc2lnbi1yZXNpemUtbGVmdHtcbiAgICAgIFx0d2lkdGg6NHB4O1xuICAgICAgXHRoZWlnaHQ6IDEwMCU7XG4gICAgICBcdGN1cnNvcjplLXJlc2l6ZTsgXG4gICAgICBcdGxlZnQ6MHB4O1xuICAgICAgXHR0b3A6MHB4O1xuICAgICAgfVxuICAgICAgLmRlc2lnbi1yZXNpemUtcmlnaHR7XG4gICAgICBcdHdpZHRoOjRweDtcbiAgICAgIFx0aGVpZ2h0OiAxMDAlO1xuICAgICAgXHRjdXJzb3I6ZS1yZXNpemU7IFxuICAgICAgXHRyaWdodDowcHg7XG4gICAgICBcdHRvcDowcHg7XG4gICAgICB9XG4gICAgICAuZGVzaWduLXJlc2l6ZS1ib3R0b217XG4gICAgICBcdGhlaWdodDo0cHg7XG4gICAgICBcdHdpZHRoOjEwMCU7XG4gICAgICBcdGN1cnNvcjpuLXJlc2l6ZTtcbiAgICAgIFx0b3ZlcmZsb3c6aGlkZGVuOyBcbiAgICAgIFx0bGVmdDowcHg7XG4gICAgICBcdGJvdHRvbTowcHg7XG4gICAgICB9XG4gICAgICAuZGVzaWduLXJlc2l6ZS1sZWZ0LWJvdHRvbXtcbiAgICAgIFx0aGVpZ2h0OjRweDtcbiAgICAgIFx0d2lkdGg6NHB4O1xuICAgICAgXHRjdXJzb3I6c3ctcmVzaXplOyBcbiAgICAgIFx0bGVmdDowcHg7XG4gICAgICBcdGJvdHRvbTowcHg7XG4gICAgICB9XG4gICAgICAuZGVzaWduLXJlc2l6ZS1yaWdodC1ib3R0b217XG4gICAgICBcdGhlaWdodDo0cHg7XG4gICAgICBcdHdpZHRoOjRweDtcbiAgICAgIFx0Y3Vyc29yOnNlLXJlc2l6ZTsgXG4gICAgICBcdHJpZ2h0OjBweDtcbiAgICAgIFx0Ym90dG9tOjBweDtcbiAgICAgIH1cbiAgICAgIC5mYi10b29se1xuICAgICAgICAgIGhlaWdodDo0MHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6I2ZmZjtcbiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0NDQ0NDQztcbiAgICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHJpZ2h0OiAwcHg7XG4gICAgICAgICAgdG9wOiAzMHB4O1xuICAgICAgfVxuXG4gICAgICAuZmItaWNvbi1jb21wdXRlcntcbiAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvaWNvbi9jb21wdXRlci5wbmcpO1xuICAgICAgICAgIHdpZHRoOjE2cHg7XG4gICAgICAgICAgaGVpZ2h0OjEzcHg7XG5cbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgbGVmdDogNHB4O1xuICAgICAgICAgIHRvcDogNHB4O1xuICAgICAgfVxuXG5cbiAgICAgIC5mYi1pY29uLWdvIHtcbiAgICAgICAgICB3aWR0aDoyMHB4O1xuICAgICAgICAgIGhlaWdodDoyMHB4O1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDEwcHg7XG4gICAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgICAgbGVmdDoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuZmItaWNvbi1iYWNre1xuICAgICAgICAgIGJhY2tncm91bmQ6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy93aW5kb3dzOC9mYi1wcmV2LnBuZykgbm8tcmVwZWF0OyBcbiAgICAgIH1cbiAgICAgIC5mYi1pY29uLWJhY2stYWN0aXZle1xuICAgICAgICAgIGJhY2tncm91bmQ6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy93aW5kb3dzOC9mYi1wcmV2LWFjdGl2ZS5wbmcpIG5vLXJlcGVhdDsgXG4gICAgICB9XG5cbiAgICAgIC5mYi1pY29uLWFoZWFkLWFjdGl2ZXtcbiAgICAgICAgICBsZWZ0OjQwcHg7XG4gICAgICAgICAgYmFja2dyb3VuZDp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL3dpbmRvd3M4L2ZiLW5leHQtYWN0aXZlLnBuZykgbm8tcmVwZWF0O1xuICAgICAgfVxuXG4gICAgICAuZmItaWNvbi1iYWNrLWFjdGl2ZTpob3ZlcntcbiAgICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvd2luZG93czgvZmItcHJldi1mb2N1cy5wbmcpIG5vLXJlcGVhdDsgXG4gICAgICB9XG5cbiAgICAgIC5mYi1pY29uLWFoZWFkLWFjdGl2ZTpob3ZlcntcbiAgICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvd2luZG93czgvZmItbmV4dC1mb2N1cy5wbmcpIG5vLXJlcGVhdDtcbiAgICAgIH1cblxuICAgICAgLmZiLWljb24tYWhlYWR7XG4gICAgICAgICAgbGVmdDo0MHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6dXJsKC4uLy4uL3Jlc291cmNlL2ltYWdlcy93aW5kb3dzOC9mYi1uZXh0LnBuZykgbm8tcmVwZWF0O1xuICAgICAgfVxuXG4gICAgICAuZmItaWNvbi1hcnJvd3tcbiAgICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9yZXNvdXJjZS9pbWFnZXMvd2luZG93czgvYXJyb3ctdG9wLnBuZykgbm8tcmVwZWF0O1xuICAgICAgICAgIHdpZHRoOjhweDtcbiAgICAgICAgICBoZWlnaHQ6MTJweDtcbiAgICBcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAxM3B4O1xuICAgICAgICAgIGxlZnQ6IDgxcHg7XG4gICAgICB9XG5cblxuICAgICAgLmZiLWljb24tdHJpYW5nbGV7XG4gICAgICAgICAgYmFja2dyb3VuZDp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL3dpbmRvd3M4L3RyaWFuZ2xlLWJvdHRvbS5wbmcpIG5vLXJlcGVhdDtcbiAgICAgICAgICB3aWR0aDo3cHg7XG4gICAgICAgICAgaGVpZ2h0OjRweDtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAxOHB4O1xuICAgICAgICAgIGxlZnQ6IDY2cHg7XG4gICAgICB9XG5cblxuXG4gICAgICAuZmItaWNvbi1yZWZyZXNoXG4gICAgICB7XG4gICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL3dpbmRvd3M4L3JlZnJlc2gucG5nKTtcbiAgICAgICAgICB3aWR0aDoyNHB4O1xuICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgI2NjYztcbiAgICAgICAgICBib3JkZXItbGVmdDowcHg7XG5cbiAgICAgICAgICB0b3A6OHB4O1xuICAgICAgICAgIGhlaWdodDoyM3B4O1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICByaWdodDogOHB4O1xuICAgICAgfVxuXG4gICAgICAuZmItdG9vbCAuaWNvbiB7XG4gICBcbiAgICAgIH1cblxuICAgICAgLmZiLWhlYWRlcntcbiAgICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICAgIGhlaWdodDozNXB4O1xuICAgICAgfVxuICAgICAgLnRvb2x7XG4gICAgICAgICAgY2xlYXI6cmlnaHQ7XG4gICAgICAgICAgaGVpZ2h0OjI1cHg7XG4gICAgICB9XG5cbiAgICAgIC5mYi1zcmMtaW5wdXR7XG4gICAgICAgICAgZmxvYXQ6bGVmdDtcbiAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkICNjY2M7XG4gICAgICAgICAgYmFja2dyb3VuZDojZmZmO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICBoZWlnaHQ6MjNweDtcbiAgICAgICAgICB0b3A6IDhweDtcbiAgICAgICAgICBsZWZ0OiA5M3B4O1xuICAgICAgICAgIHJpZ2h0OjMwcHg7XG4gICAgICB9XG5cblxuXG4gICAgICAuZmItcGF0aC1pbnB1dFxuICAgICAge1xuICAgICAgICAgIGhlaWdodDoxN3B4O1xuICAgICAgICAgIGJvcmRlcjpub25lO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDFweDtcbiAgICAgICAgICBsZWZ0OiAyNXB4O1xuICAgICAgICAgIHJpZ2h0OjFweDtcbiAgICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgfVxuXG4gICAgICAuZmItc2VhcmNoLWlucHV0XG4gICAgICB7XG4gICAgICAgICAgZmxvYXQ6bGVmdDtcbiAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkICNjY2M7XG4gICAgICAgICAgYmFja2dyb3VuZDojZmZmO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICBoZWlnaHQ6MjNweDtcbiAgICAgICAgICB0b3A6IDhweDtcbiAgICAgICAgICByaWdodDoxMHB4O1xuICAgICAgICAgIHdpZHRoOjIyNXB4O1xuICAgICAgfVxuXG4gICAgICAuZmItc2VhcmNoLWlucHV0IGlucHV0XG4gICAgICB7XG4gICAgICAgICAgaGVpZ2h0OjE3cHg7XG4gICAgICAgICAgYm9yZGVyOm5vbmU7XG4gICAgICAgICAgdG9wOjFweDtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgbGVmdDowcHg7XG4gICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgIH1cbiAgICAgIC5mYi1zcmMtaW5wdXQgaW5wdXQ6Zm9jdXMsIC5mYi1zZWFyY2gtaW5wdXQgaW5wdXQ6Zm9jdXN7XG4gICAgICAgICAgYm9yZGVyOm5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5mYi1zZWFyY2h7XG4gICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vcmVzb3VyY2UvaW1hZ2VzL3dpbmRvd3M4L3NlYXJjaC5wbmcpO1xuICAgICAgICAgIHdpZHRoOjIxcHg7XG4gICAgICAgICAgaGVpZ2h0OjE5cHg7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgfVxuICAgIGBdLFxuICAgIGRpcmVjdGl2ZXM6IFtDT1JFX0RJUkVDVElWRVMsIFNob3J0Y3V0Q21wXVxufSlcblxuZXhwb3J0IGNsYXNzIEZpbGVCcm93c2VyQ21wIGV4dGVuZHMgV2luZG93Q21wIHtcbiAgICBzaG9ydGN1dHMgPSBbXVxuICAgIGVsZW1lbnQ6IGFueVxuICAgIEBJbnB1dCgpIGNvbmZpZ1xuICAgIHdpZHRoID0gODEwXG5cdGhlaWdodCA9IDUwMFxuICAgIHBhdGggPSAnLydcbiAgICBiYWNrcyA9IFtdXG4gICAgYWhlYWRzID0gW11cblx0Y29uc3RydWN0b3IoQEluamVjdChFbGVtZW50UmVmKSBlbGVtZW50UmVmOiBFbGVtZW50UmVmKXtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNldERpYWxvZygpXG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5vYmplY3QgPSB0aGlzXG4gICAgICAgICAgICB0aGlzLnNldFBhdGgodGhpcy5jb25maWcucGF0aCwgZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnNldFRpdGxlKHRoaXMuY29uZmlnLnRpdGxlKVxuICAgICAgICAgICAgdGhpcy5kcm9wYm94KClcbiAgICAgICAgfSwxMDApXG4gICAgICAgIFxuXHR9XG4gICAgcmlnaHRDbGljayhldmVudCl7XG4gICAgICAgIGlmKCAhdGhpcy5jb25maWcubWVudSApXG4gICAgICAgICAgICByZXR1cm4gXG4gICAgICAgICAgICBcbiAgICAgICAgbWVudUxpc3Quc3BsaWNlKDAsIDEwMClcbiAgICAgICAgbWVudUxpc3QucHVzaCh7XG4gICAgICAgICAgICB0b3A6ZXZlbnQucGFnZVktMTAsXG4gICAgICAgICAgICBsZWZ0OiBldmVudC5wYWdlWCxcbiAgICAgICAgICAgIGl0ZW1zOiB0aGlzLmNvbmZpZy5tZW51IFxuICAgICAgICB9KVxuICAgICAgICBldmVudC5yZXR1cm52YWx1ZT1mYWxzZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIFxuICAgIGhpZGVNZW51KCl7XG4gICAgICAgIG1lbnVMaXN0LnNwbGljZSgwLDEwMClcbiAgICB9XG4gICAgXG4gICAgZHJvcGJveCgpe1xuICAgICAgICBcbiAgICAgICAgdmFyIGRyb3Bib3ggPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmJvZHknKVswXVxuICAgICAgICBcbiAgICAgICAgZHJvcGJveC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIGZ1bmN0aW9uKGUpeyAgXG4gICAgICAgICAgICBkcm9wYm94LnN0eWxlLmJhY2tncm91bmQgPSAnI2YyZjJmMic7ICBcbiAgICAgICAgfSwgZmFsc2UpOyAgXG4gICAgICAgIGRyb3Bib3guYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCBmdW5jdGlvbihlKXsgIFxuICAgICAgICAgICAgZHJvcGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnOyAgXG4gICAgICAgIH0sIGZhbHNlKTsgIFxuICAgICAgICBkcm9wYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIiwgZnVuY3Rpb24oZSl7ICBcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7ICBcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgIFxuICAgICAgICB9LCBmYWxzZSk7ICBcbiAgICAgICAgZHJvcGJveC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZSl7ICBcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7ICBcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgIFxuICAgICAgICB9LCBmYWxzZSk7ICBcbiAgICAgICAgZHJvcGJveC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCAoZSk9PnsgIFxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgIFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAgXG4gICAgICAgICAgICBkcm9wYm94LnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZic7ICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUuZGF0YVRyYW5zZmVyLmZpbGVzWzBdKVxuICAgICAgICAgICAgLy8gaGFuZGxlRmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpOyAgXG4gICAgICAgICAgICB0aGlzLnVwbG9hZEZpbGUoZS5kYXRhVHJhbnNmZXIuZmlsZXNbMF0sMSlcbiAgICAgICAgICAgIC8vIHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlOyAgXG4gICAgICAgIH0sIGZhbHNlKTsgIFxuICAgIH1cbiAgICBcbiAgICB1cGxvYWRGaWxlKGZpbGUsIHN0YXR1cykge1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdQT1NUJywgJy91cGxvYWQnKTtcbiAgICAgICAgeGhyLm9ubG9hZCA9ICgpPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzcG9uc2VUZXh0KVxuICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZS5zaXplKTtcbiAgICAgICAgfTtcbiAgICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZVByb2dyZXNzKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KVxuICAgICAgICB9XG4gICAgICAgIHhoci51cGxvYWQub25sb2Fkc3RhcnQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIHByZXBhcmUgRm9ybURhdGFcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbXlmaWxlJywgZmlsZSk7XG4gICAgICAgIHhoci5zZW5kKGZvcm1EYXRhKTtcbiAgICB9XG4gICAgXG4gICAgc2V0UGF0aChwYXRoLCBpc1B1c2ggPSB0cnVlKXtcbiAgICAgICAgaWYoIGlzUHVzaCApe1xuICAgICAgICAgICAgdGhpcy5iYWNrcy5wdXNoKHRoaXMucGF0aClcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQmFja0ljb24odHJ1ZSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoXG4gICAgICAgIHRoaXMuY29uZmlnLm9uU2V0UGF0aCYmIHRoaXMuY29uZmlnLm9uU2V0UGF0aCh0aGlzLnBhdGgpXG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICByZWZyZXNoKCl7XG4gICAgICAgIHRoaXMuY29uZmlnLm9uU2V0UGF0aCYmIHRoaXMuY29uZmlnLm9uU2V0UGF0aCh0aGlzLnBhdGgpXG4gICAgfVxuICAgIFxuICAgIGFjdGl2ZUFoZWFkSWNvbihpc0FjdGl2ZSlcbiAgICB7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy5mYi1pY29uLWFoZWFkJykuYWRkQ2xhc3MoJ2ZiLWljb24tYWhlYWQtYWN0aXZlJylcbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuZmItaWNvbi1haGVhZCcpLnJlbW92ZUNsYXNzKCdmYi1pY29uLWFoZWFkJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmZiLWljb24tYWhlYWQtYWN0aXZlJykuYWRkQ2xhc3MoJ2ZiLWljb24tYWhlYWQnKTtcbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuZmItaWNvbi1haGVhZC1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZmItaWNvbi1haGVhZC1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBhY3RpdmVCYWNrSWNvbihpc0FjdGl2ZSlcbiAgICB7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy5mYi1pY29uLWJhY2snKS5hZGRDbGFzcygnZmItaWNvbi1iYWNrLWFjdGl2ZScpO1xuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy5mYi1pY29uLWJhY2snKS5yZW1vdmVDbGFzcygnZmItaWNvbi1iYWNrJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmZiLWljb24tYmFjay1hY3RpdmUnKS5hZGRDbGFzcygnZmItaWNvbi1iYWNrJyk7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmZiLWljb24tYmFjay1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZmItaWNvbi1iYWNrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGJhY2sgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhY2tzLmxlbmd0aCkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5iYWNrcy5wb3AoKVxuICAgICAgICAgICAgdGhpcy5haGVhZHMucHVzaCh0aGlzLnBhdGgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc2V0UGF0aChwYXRoLCBmYWxzZSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5hY3RpdmVCYWNrSWNvbih0aGlzLmJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQWhlYWRJY29uKHRoaXMuYWhlYWRzLmxlbmd0aClcbiAgICAgICAgfVxuICAgIH0gXG4gICAgYWhlYWQgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmFoZWFkcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5haGVhZHMucG9wKClcbiAgICAgICAgICAgIHRoaXMuYmFja3MucHVzaCh0aGlzLnBhdGgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc2V0UGF0aChwYXRoLCBmYWxzZSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5hY3RpdmVCYWNrSWNvbih0aGlzLmJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQWhlYWRJY29uKHRoaXMuYWhlYWRzLmxlbmd0aClcbiAgICAgICAgfTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=